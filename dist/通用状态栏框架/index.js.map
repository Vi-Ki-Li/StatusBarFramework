{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tavern_helper_template/src/通用状态栏框架/components/manager/modules/DefinitionStudio.vue?9c94","webpack://tavern_helper_template/src/通用状态栏框架/components/manager/ManagerModal.vue?046f","webpack://tavern_helper_template/src/通用状态栏框架/components/statusbar/StatusBar.vue?4973","webpack://tavern_helper_template/src/通用状态栏框架/components/manager/modules/DefinitionStudio.vue?16fa","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/listToStyles.js","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js","webpack://tavern_helper_template/src/通用状态栏框架/components/manager/ManagerModal.vue?af61","webpack://tavern_helper_template/src/通用状态栏框架/components/statusbar/StatusBar.vue?ee58","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js","src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/util/script.ts","src://tavern_helper_template/util/common.ts","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/util/streaming.ts","webpack://tavern_helper_template/util/iframe_srcdoc.html?c178","src://tavern_helper_template/src/通用状态栏框架/components/manager/modules/DefinitionStudio.vue","webpack://tavern_helper_template/src/通用状态栏框架/components/manager/modules/DefinitionStudio.vue?82d9","src://tavern_helper_template/src/通用状态栏框架/components/manager/ManagerModal.vue","webpack://tavern_helper_template/src/通用状态栏框架/components/manager/ManagerModal.vue?b6ac","src://tavern_helper_template/src/通用状态栏框架/components/statusbar/StatusBar.vue","webpack://tavern_helper_template/src/通用状态栏框架/components/statusbar/StatusBar.vue?e64d","src://tavern_helper_template/src/通用状态栏框架/index.ts"],"sourcesContent":["/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./DefinitionStudio.vue?vue&type=style&index=0&id=06c478c0&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01ed18ce\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./DefinitionStudio.vue?vue&type=style&index=0&id=06c478c0&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./DefinitionStudio.vue?vue&type=style&index=0&id=06c478c0&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ManagerModal.vue?vue&type=style&index=0&id=c6c4011c&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4aff3852\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ManagerModal.vue?vue&type=style&index=0&id=c6c4011c&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ManagerModal.vue?vue&type=style&index=0&id=c6c4011c&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StatusBar.vue?vue&type=style&index=0&id=0aa8f2f0&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"eb064dae\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StatusBar.vue?vue&type=style&index=0&id=0aa8f2f0&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-16.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StatusBar.vue?vue&type=style&index=0&id=0aa8f2f0&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.definition-studio[data-v-06c478c0]{display:flex;height:100%;overflow:hidden;background:var(--bg-app,#f9fafb)}.studio__sidebar[data-v-06c478c0]{width:260px;min-width:260px;background:rgba(255,255,255,0.8);border-right:1px solid var(--border-base,rgba(0,0,0,0.08));display:flex;flex-direction:column;transition:all 0.3s ease}.studio__sidebar--collapsed[data-v-06c478c0]{width:0;min-width:0;opacity:0;overflow:hidden}.studio__sidebar-header[data-v-06c478c0]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid var(--border-base,rgba(0,0,0,0.08))}.studio__sidebar-title[data-v-06c478c0]{font-size:0.85rem;font-weight:600;color:var(--text-secondary,#6b7280);text-transform:uppercase;letter-spacing:0.05em}.studio__sidebar-content[data-v-06c478c0]{flex:1;overflow-y:auto;padding:8px}.studio__category-item[data-v-06c478c0]{width:100%;display:flex;align-items:center;gap:10px;padding:10px 12px;border:none;border-radius:8px;background:transparent;color:var(--text-secondary,#6b7280);font-size:0.9rem;cursor:pointer;transition:all 0.2s ease;text-align:left}.studio__category-item[data-v-06c478c0]:hover{background:var(--surface-hover,rgba(0,0,0,0.04));color:var(--text-primary,#1f2937)}.studio__category-item--active[data-v-06c478c0]{background:var(--color-primary-subtle,rgba(99,102,241,0.1));color:var(--color-primary,#6366f1)}.studio__category-count[data-v-06c478c0]{margin-left:auto;font-size:0.75rem;background:var(--surface-hover,rgba(0,0,0,0.05));padding:2px 8px;border-radius:10px}.studio__category-badge[data-v-06c478c0]{font-size:0.65rem;padding:2px 6px;border-radius:4px;background:var(--color-primary-subtle,rgba(99,102,241,0.1));color:var(--color-primary,#6366f1)}.studio__category-badge--shared[data-v-06c478c0]{background:rgba(16,185,129,0.1);color:#10b981}.studio__category-actions[data-v-06c478c0]{display:none;gap:4px;margin-left:auto}.studio__category-item:hover .studio__category-actions[data-v-06c478c0]{display:flex}.studio__category-item:hover .studio__category-count[data-v-06c478c0],.studio__category-item:hover .studio__category-badge[data-v-06c478c0]{display:none}.studio__main[data-v-06c478c0]{flex:1;display:flex;flex-direction:column;min-width:0;overflow:hidden}.studio__toolbar[data-v-06c478c0]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid var(--border-base,rgba(0,0,0,0.08));background:rgba(255,255,255,0.6)}.studio__section-title[data-v-06c478c0]{font-size:1.1rem;font-weight:600;color:var(--text-primary,#1f2937);margin:0}.studio__item-count[data-v-06c478c0]{font-weight:400;color:var(--text-tertiary,#9ca3af);font-size:0.9rem}.studio__toolbar-actions[data-v-06c478c0]{display:flex;gap:8px}.studio__items-grid[data-v-06c478c0]{flex:1;overflow-y:auto;padding:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;align-content:start}.studio__item-card[data-v-06c478c0]{background:#fff;border:1px solid var(--border-base,rgba(0,0,0,0.08));border-radius:12px;padding:16px;cursor:pointer;transition:all 0.2s ease;position:relative}.studio__item-card[data-v-06c478c0]:hover{border-color:var(--color-primary,#6366f1);box-shadow:0 4px 12px rgba(99,102,241,0.15);transform:translateY(-2px)}.studio__item-header[data-v-06c478c0]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.studio__item-key[data-v-06c478c0]{font-family:monospace;font-size:0.85rem;color:var(--color-primary,#6366f1);background:var(--color-primary-subtle,rgba(99,102,241,0.1));padding:2px 8px;border-radius:4px}.studio__item-type[data-v-06c478c0]{font-size:0.7rem;padding:2px 6px;border-radius:4px;background:rgba(99,102,241,0.1);color:#6366f1}.studio__item-type--list[data-v-06c478c0]{background:rgba(245,158,11,0.1);color:#f59e0b}.studio__item-name[data-v-06c478c0]{font-weight:600;color:var(--text-primary,#1f2937);margin-bottom:8px}.studio__item-parts[data-v-06c478c0]{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:8px}.studio__part-tag[data-v-06c478c0]{font-size:0.75rem;padding:2px 6px;border-radius:4px;background:var(--surface-hover,rgba(0,0,0,0.05));color:var(--text-secondary,#6b7280)}.studio__item-format[data-v-06c478c0]{font-family:monospace;font-size:0.75rem;color:var(--text-tertiary,#9ca3af);background:var(--surface-hover,rgba(0,0,0,0.03));padding:6px 8px;border-radius:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.studio__item-actions[data-v-06c478c0]{position:absolute;top:12px;right:12px;display:none}.studio__item-card:hover .studio__item-actions[data-v-06c478c0]{display:flex}.studio__empty[data-v-06c478c0]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;color:var(--text-tertiary,#9ca3af)}.studio__empty svg[data-v-06c478c0]{opacity:0.5;margin-bottom:16px}.studio__empty p[data-v-06c478c0]{margin:0 0 16px}.studio__btn[data-v-06c478c0]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--border-base,rgba(0,0,0,0.1));border-radius:8px;background:#fff;color:var(--text-secondary,#6b7280);font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.studio__btn[data-v-06c478c0]:hover{background:var(--surface-hover,rgba(0,0,0,0.04));border-color:var(--border-base,rgba(0,0,0,0.15))}.studio__btn--primary[data-v-06c478c0]{background:linear-gradient(135deg,var(--color-primary,#6366f1),#4f46e5);color:#fff;border:none}.studio__btn--primary[data-v-06c478c0]:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(99,102,241,0.3)}.studio__btn--secondary[data-v-06c478c0]{background:var(--color-primary-subtle,rgba(99,102,241,0.1));color:var(--color-primary,#6366f1);border:none}.studio__btn--small[data-v-06c478c0]{padding:4px 10px;font-size:0.8rem}.studio__icon-btn[data-v-06c478c0]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;border-radius:8px;background:transparent;color:var(--text-tertiary,#9ca3af);cursor:pointer;transition:all 0.2s ease}.studio__icon-btn[data-v-06c478c0]:hover{background:var(--surface-hover,rgba(0,0,0,0.05));color:var(--text-primary,#1f2937)}.studio__mini-btn[data-v-06c478c0]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border:none;border-radius:4px;background:transparent;color:var(--text-tertiary,#9ca3af);cursor:pointer;transition:all 0.15s ease}.studio__mini-btn[data-v-06c478c0]:hover{background:var(--surface-hover,rgba(0,0,0,0.08));color:var(--text-primary,#1f2937)}.studio__mini-btn--danger[data-v-06c478c0]:hover{background:rgba(239,68,68,0.1);color:#ef4444}.studio__mini-btn[data-v-06c478c0]:disabled{opacity:0.3;cursor:not-allowed}.studio__drawer-overlay[data-v-06c478c0]{position:fixed;inset:0;background:rgba(0,0,0,0.4);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000}.studio__drawer[data-v-06c478c0]{width:420px;max-width:95vw;max-height:90vh;background:#fff;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,0.2);display:flex;flex-direction:column;overflow:hidden}.studio__drawer--wide[data-v-06c478c0]{width:600px}.studio__drawer-header[data-v-06c478c0]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-base,rgba(0,0,0,0.08))}.studio__drawer-header h3[data-v-06c478c0]{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary,#1f2937)}.studio__drawer-content[data-v-06c478c0]{flex:1;overflow-y:auto;padding:24px}.studio__drawer-footer[data-v-06c478c0]{display:flex;justify-content:flex-end;gap:8px;padding:16px 24px;border-top:1px solid var(--border-base,rgba(0,0,0,0.08));background:rgba(249,250,251,0.9)}.studio__form-group[data-v-06c478c0]{margin-bottom:16px}.studio__form-group label[data-v-06c478c0]{display:block;font-size:0.85rem;font-weight:500;color:var(--text-secondary,#6b7280);margin-bottom:6px}.studio__form-group input[data-v-06c478c0],.studio__form-group select[data-v-06c478c0],.studio__form-group textarea[data-v-06c478c0]{width:100%;padding:10px 12px;border:1px solid var(--border-base,rgba(0,0,0,0.1));border-radius:8px;font-size:0.9rem;color:var(--text-primary,#1f2937);background:#fff;transition:border-color 0.2s ease}.studio__form-group input[data-v-06c478c0]:focus,.studio__form-group select[data-v-06c478c0]:focus,.studio__form-group textarea[data-v-06c478c0]:focus{outline:none;border-color:var(--color-primary,#6366f1);box-shadow:0 0 0 3px var(--color-primary-subtle,rgba(99,102,241,0.1))}.studio__form-row[data-v-06c478c0]{display:flex;gap:16px}.studio__form-row .studio__form-group[data-v-06c478c0]{flex:1}.studio__form-group--small[data-v-06c478c0]{max-width:100px}.studio__radio-group[data-v-06c478c0]{display:flex;gap:16px}.studio__radio[data-v-06c478c0]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:0.9rem;color:var(--text-secondary,#6b7280)}.studio__radio input[type=\"radio\"][data-v-06c478c0]{width:auto;margin:0}.studio__parts-header[data-v-06c478c0]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.studio__parts-list[data-v-06c478c0]{display:flex;flex-direction:column;gap:8px}.studio__part-row[data-v-06c478c0]{display:flex;gap:8px;align-items:center}.studio__part-input[data-v-06c478c0]{flex:1;padding:8px 10px !important;font-size:0.85rem !important}.studio__part-select[data-v-06c478c0]{width:90px;padding:8px 6px !important;font-size:0.85rem !important}.studio__part-actions[data-v-06c478c0]{display:flex;gap:2px}.studio__format-preview[data-v-06c478c0]{font-family:monospace;font-size:0.9rem;padding:12px;background:var(--surface-hover,rgba(0,0,0,0.03));border-radius:8px;border:1px solid var(--border-base,rgba(0,0,0,0.08));color:var(--color-primary,#6366f1)}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/通用状态栏框架/components/manager/modules/DefinitionStudio.vue\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n/**\\n * 定义工坊 (Definition Studio)\\n *\\n * 功能：全局的\\\"条目字典\\\"，用于创建和管理所有分类和数据条目的结构和元数据\\n *\\n * 根据开发总纲：\\n * - 分类列表：CRUD 数据类别，设定 shared/character 属性\\n * - 条目列表：按类别分组，提供 CRUD\\n * - 属性编辑器：key, name, category, icon, entry_type, parts, ui_type, separator, etc.\\n */\\nimport type {\\n    CategoryDefinition,\\n    CategoryScope,\\n    DataType,\\n    EntryType,\\n    ItemDefinition\\n} from '@/通用状态栏框架/types';\\nimport { computed, reactive, ref } from 'vue';\\n\\n// ==================== 状态 ====================\\n\\nconst categories = ref<Record<string, CategoryDefinition>>({});\\nconst itemDefinitions = ref<Record<string, ItemDefinition>>({});\\n\\n// UI 状态\\nconst selectedCategoryKey = ref<string | null>(null);\\nconst isSidebarCollapsed = ref(false);\\nconst isEditingCategory = ref(false);\\nconst isEditingItem = ref(false);\\n\\n// 编辑表单\\nconst categoryForm = reactive<CategoryDefinition>({\\n  key: '',\\n  name: '',\\n  icon: 'folder',\\n  order: 0,\\n  scope: 'character',\\n});\\n\\nconst itemForm = reactive<ItemDefinition>({\\n  key: '',\\n  name: '',\\n  icon: '',\\n  category: '',\\n  entry_type: 'Single',\\n  parts: [],\\n  separator: '|',\\n  secondary_separator: '@',\\n  description: '',\\n});\\n\\n// ==================== 计算属性 ====================\\n\\nconst sortedCategories = computed(() =>\\n  Object.values(categories.value).sort((a, b) => a.order - b.order)\\n);\\n\\nconst filteredItems = computed(() => {\\n  const items = Object.values(itemDefinitions.value);\\n  if (!selectedCategoryKey.value) return items;\\n  return items.filter(item => item.category === selectedCategoryKey.value);\\n});\\n\\nconst currentCategory = computed(() =>\\n  selectedCategoryKey.value ? categories.value[selectedCategoryKey.value] : null\\n);\\n\\n// 自动生成格式字符串\\nconst generatedFormat = computed(() => {\\n  if (!itemForm.key || !itemForm.category) return '';\\n\\n  const cat = categories.value[itemForm.category];\\n  const scope = cat?.scope === 'shared' ? 'ST' : '{角色}';\\n  const categoryKey = itemForm.category;\\n\\n  let valuePart = '';\\n  if (itemForm.parts.length === 0) {\\n    valuePart = `{${itemForm.key}}`;\\n  } else if (itemForm.entry_type === 'Single') {\\n    valuePart = itemForm.parts.map(p => `{${p.key}}`).join(itemForm.separator);\\n  } else {\\n    // List\\n    const partTemplate = itemForm.parts.length > 1\\n      ? itemForm.parts.map(p => `{${p.key}}`).join(itemForm.secondary_separator || '@')\\n      : `{${itemForm.parts[0]?.key || 'item'}}`;\\n    valuePart = `${partTemplate}${itemForm.separator}...`;\\n  }\\n\\n  return `[${scope}^${categoryKey}|${itemForm.key}::${valuePart}]`;\\n});\\n\\n// ==================== 分类操作 ====================\\n\\nfunction openNewCategory() {\\n  Object.assign(categoryForm, {\\n    key: '',\\n    name: '',\\n    icon: 'folder',\\n    order: sortedCategories.value.length,\\n    scope: 'character' as CategoryScope,\\n  });\\n  isEditingCategory.value = true;\\n}\\n\\nfunction editCategory(cat: CategoryDefinition) {\\n  Object.assign(categoryForm, { ...cat });\\n  isEditingCategory.value = true;\\n}\\n\\nfunction saveCategory() {\\n  if (!categoryForm.key.trim() || !categoryForm.name.trim()) return;\\n\\n  categories.value[categoryForm.key] = { ...categoryForm };\\n  isEditingCategory.value = false;\\n}\\n\\nfunction deleteCategory(key: string) {\\n  if (confirm(`确定删除分类 \\\"${categories.value[key]?.name}\\\"？\\\\n注意：不会删除属于该分类的条目定义。`)) {\\n    delete categories.value[key];\\n    if (selectedCategoryKey.value === key) {\\n      selectedCategoryKey.value = null;\\n    }\\n  }\\n}\\n\\n// ==================== 条目操作 ====================\\n\\nfunction openNewItem() {\\n  Object.assign(itemForm, {\\n    key: '',\\n    name: '',\\n    icon: '',\\n    category: selectedCategoryKey.value || '',\\n    entry_type: 'Single' as EntryType,\\n    parts: [{ key: 'value', label: '值', data_type: 'string' as DataType }],\\n    separator: '|',\\n    secondary_separator: '@',\\n    description: '',\\n  });\\n  isEditingItem.value = true;\\n}\\n\\nfunction editItem(item: ItemDefinition) {\\n  Object.assign(itemForm, {\\n    ...item,\\n    parts: item.parts.map(p => ({ ...p })),\\n  });\\n  isEditingItem.value = true;\\n}\\n\\nfunction saveItem() {\\n  if (!itemForm.key.trim() || !itemForm.name.trim()) return;\\n\\n  // 更新 format\\n  itemForm.format = generatedFormat.value;\\n\\n  itemDefinitions.value[itemForm.key] = {\\n    ...itemForm,\\n    parts: itemForm.parts.map(p => ({ ...p })),\\n  };\\n  isEditingItem.value = false;\\n}\\n\\nfunction deleteItem(key: string) {\\n  if (confirm(`确定删除条目定义 \\\"${itemDefinitions.value[key]?.name}\\\"？`)) {\\n    delete itemDefinitions.value[key];\\n  }\\n}\\n\\n// ==================== Parts 操作 ====================\\n\\nfunction addPart() {\\n  itemForm.parts.push({\\n    key: '',\\n    label: '',\\n    data_type: 'string',\\n  });\\n}\\n\\nfunction removePart(index: number) {\\n  itemForm.parts.splice(index, 1);\\n}\\n\\nfunction movePart(index: number, direction: -1 | 1) {\\n  const newIndex = index + direction;\\n  if (newIndex < 0 || newIndex >= itemForm.parts.length) return;\\n  const temp = itemForm.parts[index];\\n  itemForm.parts[index] = itemForm.parts[newIndex];\\n  itemForm.parts[newIndex] = temp;\\n}\\n\\n// ==================== 图标 ====================\\n\\nconst iconPaths: Record<string, string> = {\\n  folder: 'M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z',\\n  plus: 'M12 5v14M5 12h14',\\n  edit: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z',\\n  trash: 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2',\\n  save: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8',\\n  x: 'M18 6L6 18M6 6l12 12',\\n  chevronUp: 'M18 15l-6-6-6 6',\\n  chevronDown: 'M6 9l6 6 6-6',\\n  database: 'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4z',\\n  box: 'M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z',\\n  list: 'M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01',\\n  singleUser: 'M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z',\\n  users: 'M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z',\\n  upload: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12',\\n};\\n</script>\\n\\n<template>\\n  <div class=\\\"definition-studio\\\">\\n    <!-- 左侧分类列表 -->\\n    <aside class=\\\"studio__sidebar\\\" :class=\\\"{ 'studio__sidebar--collapsed': isSidebarCollapsed }\\\">\\n      <div class=\\\"studio__sidebar-header\\\">\\n        <span class=\\\"studio__sidebar-title\\\">分类列表</span>\\n        <button class=\\\"studio__icon-btn\\\" title=\\\"新建分类\\\" @click=\\\"openNewCategory\\\">\\n          <svg viewBox=\\\"0 0 24 24\\\" width=\\\"18\\\" height=\\\"18\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n            <path :d=\\\"iconPaths.plus\\\" />\\n          </svg>\\n        </button>\\n      </div>\\n\\n      <div class=\\\"studio__sidebar-content\\\">\\n        <!-- 全部 -->\\n        <button\\n          class=\\\"studio__category-item\\\"\\n          :class=\\\"{ 'studio__category-item--active': selectedCategoryKey === null }\\\"\\n          @click=\\\"selectedCategoryKey = null\\\"\\n        >\\n          <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\">\\n            <path :d=\\\"iconPaths.database\\\" />\\n          </svg>\\n          <span>全部条目</span>\\n          <span class=\\\"studio__category-count\\\">{{ Object.keys(itemDefinitions).length }}</span>\\n        </button>\\n\\n        <!-- 分类列表 -->\\n        <button\\n          v-for=\\\"cat in sortedCategories\\\"\\n          :key=\\\"cat.key\\\"\\n          class=\\\"studio__category-item\\\"\\n          :class=\\\"{ 'studio__category-item--active': selectedCategoryKey === cat.key }\\\"\\n          @click=\\\"selectedCategoryKey = cat.key\\\"\\n        >\\n          <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\">\\n            <path :d=\\\"iconPaths.folder\\\" />\\n          </svg>\\n          <span>{{ cat.name }}</span>\\n          <span class=\\\"studio__category-badge\\\" :class=\\\"cat.scope === 'shared' ? 'studio__category-badge--shared' : ''\\\">\\n            {{ cat.scope === 'shared' ? '共享' : '角色' }}\\n          </span>\\n          <div class=\\\"studio__category-actions\\\">\\n            <button class=\\\"studio__mini-btn\\\" title=\\\"编辑\\\" @click.stop=\\\"editCategory(cat)\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.edit\\\" />\\n              </svg>\\n            </button>\\n            <button class=\\\"studio__mini-btn studio__mini-btn--danger\\\" title=\\\"删除\\\" @click.stop=\\\"deleteCategory(cat.key)\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.trash\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n        </button>\\n      </div>\\n    </aside>\\n\\n    <!-- 主内容区 -->\\n    <main class=\\\"studio__main\\\">\\n      <!-- 工具栏 -->\\n      <div class=\\\"studio__toolbar\\\">\\n        <h2 class=\\\"studio__section-title\\\">\\n          {{ currentCategory ? currentCategory.name : '全部条目' }}\\n          <span class=\\\"studio__item-count\\\">({{ filteredItems.length }} 项)</span>\\n        </h2>\\n        <div class=\\\"studio__toolbar-actions\\\">\\n          <button class=\\\"studio__btn studio__btn--primary\\\" @click=\\\"openNewItem\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n              <path :d=\\\"iconPaths.plus\\\" />\\n            </svg>\\n            新建条目\\n          </button>\\n        </div>\\n      </div>\\n\\n      <!-- 条目列表 -->\\n      <div class=\\\"studio__items-grid\\\">\\n        <div\\n          v-for=\\\"item in filteredItems\\\"\\n          :key=\\\"item.key\\\"\\n          class=\\\"studio__item-card\\\"\\n          @click=\\\"editItem(item)\\\"\\n        >\\n          <div class=\\\"studio__item-header\\\">\\n            <span class=\\\"studio__item-key\\\">{{ item.key }}</span>\\n            <span class=\\\"studio__item-type\\\" :class=\\\"item.entry_type === 'List' ? 'studio__item-type--list' : ''\\\">\\n              {{ item.entry_type }}\\n            </span>\\n          </div>\\n          <div class=\\\"studio__item-name\\\">{{ item.name }}</div>\\n          <div class=\\\"studio__item-parts\\\">\\n            <span v-for=\\\"part in item.parts\\\" :key=\\\"part.key\\\" class=\\\"studio__part-tag\\\">\\n              {{ part.label }}\\n            </span>\\n          </div>\\n          <div class=\\\"studio__item-format\\\">{{ item.format }}</div>\\n          <div class=\\\"studio__item-actions\\\">\\n            <button class=\\\"studio__mini-btn studio__mini-btn--danger\\\" title=\\\"删除\\\" @click.stop=\\\"deleteItem(item.key)\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.trash\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n        </div>\\n\\n        <!-- 空状态 -->\\n        <div v-if=\\\"filteredItems.length === 0\\\" class=\\\"studio__empty\\\">\\n          <svg viewBox=\\\"0 0 24 24\\\" width=\\\"48\\\" height=\\\"48\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"1.5\\\">\\n            <path :d=\\\"iconPaths.box\\\" />\\n          </svg>\\n          <p>暂无条目定义</p>\\n          <button class=\\\"studio__btn studio__btn--primary\\\" @click=\\\"openNewItem\\\">创建第一个条目</button>\\n        </div>\\n      </div>\\n    </main>\\n\\n    <!-- 分类编辑抽屉 -->\\n    <Teleport to=\\\"body\\\">\\n      <div v-if=\\\"isEditingCategory\\\" class=\\\"studio__drawer-overlay\\\" @click=\\\"isEditingCategory = false\\\">\\n        <div class=\\\"studio__drawer\\\" @click.stop>\\n          <div class=\\\"studio__drawer-header\\\">\\n            <h3>{{ categoryForm.key ? '编辑分类' : '新建分类' }}</h3>\\n            <button class=\\\"studio__icon-btn\\\" @click=\\\"isEditingCategory = false\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.x\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n\\n          <div class=\\\"studio__drawer-content\\\">\\n            <div class=\\\"studio__form-group\\\">\\n              <label>唯一键 (Key)</label>\\n              <input v-model=\\\"categoryForm.key\\\" type=\\\"text\\\" placeholder=\\\"如: CV, CP\\\" />\\n            </div>\\n            <div class=\\\"studio__form-group\\\">\\n              <label>显示名称</label>\\n              <input v-model=\\\"categoryForm.name\\\" type=\\\"text\\\" placeholder=\\\"如: 角色属性\\\" />\\n            </div>\\n            <div class=\\\"studio__form-group\\\">\\n              <label>作用域</label>\\n              <div class=\\\"studio__radio-group\\\">\\n                <label class=\\\"studio__radio\\\">\\n                  <input v-model=\\\"categoryForm.scope\\\" type=\\\"radio\\\" value=\\\"character\\\" />\\n                  <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path :d=\\\"iconPaths.singleUser\\\" />\\n                  </svg>\\n                  角色数据\\n                </label>\\n                <label class=\\\"studio__radio\\\">\\n                  <input v-model=\\\"categoryForm.scope\\\" type=\\\"radio\\\" value=\\\"shared\\\" />\\n                  <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path :d=\\\"iconPaths.users\\\" />\\n                  </svg>\\n                  共享数据\\n                </label>\\n              </div>\\n            </div>\\n            <div class=\\\"studio__form-group\\\">\\n              <label>排序权重</label>\\n              <input v-model.number=\\\"categoryForm.order\\\" type=\\\"number\\\" min=\\\"0\\\" />\\n            </div>\\n          </div>\\n\\n          <div class=\\\"studio__drawer-footer\\\">\\n            <button class=\\\"studio__btn\\\" @click=\\\"isEditingCategory = false\\\">取消</button>\\n            <button class=\\\"studio__btn studio__btn--primary\\\" @click=\\\"saveCategory\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.save\\\" />\\n              </svg>\\n              保存\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </Teleport>\\n\\n    <!-- 条目编辑抽屉 -->\\n    <Teleport to=\\\"body\\\">\\n      <div v-if=\\\"isEditingItem\\\" class=\\\"studio__drawer-overlay\\\" @click=\\\"isEditingItem = false\\\">\\n        <div class=\\\"studio__drawer studio__drawer--wide\\\" @click.stop>\\n          <div class=\\\"studio__drawer-header\\\">\\n            <h3>{{ itemForm.key ? '编辑条目' : '新建条目' }}</h3>\\n            <button class=\\\"studio__icon-btn\\\" @click=\\\"isEditingItem = false\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.x\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n\\n          <div class=\\\"studio__drawer-content\\\">\\n            <!-- 基础信息 -->\\n            <div class=\\\"studio__form-row\\\">\\n              <div class=\\\"studio__form-group\\\">\\n                <label>唯一键 (Key) *</label>\\n                <input v-model=\\\"itemForm.key\\\" type=\\\"text\\\" placeholder=\\\"如: HP, 背包\\\" />\\n              </div>\\n              <div class=\\\"studio__form-group\\\">\\n                <label>显示名称 *</label>\\n                <input v-model=\\\"itemForm.name\\\" type=\\\"text\\\" placeholder=\\\"如: 生命值\\\" />\\n              </div>\\n            </div>\\n\\n            <div class=\\\"studio__form-row\\\">\\n              <div class=\\\"studio__form-group\\\">\\n                <label>所属分类</label>\\n                <select v-model=\\\"itemForm.category\\\">\\n                  <option value=\\\"\\\">-- 选择分类 --</option>\\n                  <option v-for=\\\"cat in sortedCategories\\\" :key=\\\"cat.key\\\" :value=\\\"cat.key\\\">\\n                    {{ cat.name }} ({{ cat.key }})\\n                  </option>\\n                </select>\\n              </div>\\n              <div class=\\\"studio__form-group\\\">\\n                <label>条目类型 (entry_type)</label>\\n                <div class=\\\"studio__radio-group\\\">\\n                  <label class=\\\"studio__radio\\\">\\n                    <input v-model=\\\"itemForm.entry_type\\\" type=\\\"radio\\\" value=\\\"Single\\\" />\\n                    <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                      <path :d=\\\"iconPaths.box\\\" />\\n                    </svg>\\n                    单体 (Single)\\n                  </label>\\n                  <label class=\\\"studio__radio\\\">\\n                    <input v-model=\\\"itemForm.entry_type\\\" type=\\\"radio\\\" value=\\\"List\\\" />\\n                    <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                      <path :d=\\\"iconPaths.list\\\" />\\n                    </svg>\\n                    列表 (List)\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- 分隔符 -->\\n            <div class=\\\"studio__form-row\\\">\\n              <div class=\\\"studio__form-group studio__form-group--small\\\">\\n                <label>主分隔符</label>\\n                <input v-model=\\\"itemForm.separator\\\" type=\\\"text\\\" placeholder=\\\"|\\\" />\\n              </div>\\n              <div v-if=\\\"itemForm.entry_type === 'List'\\\" class=\\\"studio__form-group studio__form-group--small\\\">\\n                <label>次分隔符</label>\\n                <input v-model=\\\"itemForm.secondary_separator\\\" type=\\\"text\\\" placeholder=\\\"@\\\" />\\n              </div>\\n            </div>\\n\\n            <!-- Parts 结构定义 -->\\n            <div class=\\\"studio__form-group\\\">\\n              <div class=\\\"studio__parts-header\\\">\\n                <label>结构定义 (Parts)</label>\\n                <button class=\\\"studio__btn studio__btn--small\\\" @click=\\\"addPart\\\">\\n                  <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path :d=\\\"iconPaths.plus\\\" />\\n                  </svg>\\n                  添加\\n                </button>\\n              </div>\\n\\n              <div class=\\\"studio__parts-list\\\">\\n                <div v-for=\\\"(part, index) in itemForm.parts\\\" :key=\\\"index\\\" class=\\\"studio__part-row\\\">\\n                  <input v-model=\\\"part.key\\\" type=\\\"text\\\" placeholder=\\\"key\\\" class=\\\"studio__part-input\\\" />\\n                  <input v-model=\\\"part.label\\\" type=\\\"text\\\" placeholder=\\\"标签\\\" class=\\\"studio__part-input\\\" />\\n                  <select v-model=\\\"part.data_type\\\" class=\\\"studio__part-select\\\">\\n                    <option value=\\\"string\\\">文本</option>\\n                    <option value=\\\"number\\\">数字</option>\\n                    <option value=\\\"boolean\\\">布尔</option>\\n                  </select>\\n                  <div class=\\\"studio__part-actions\\\">\\n                    <button class=\\\"studio__mini-btn\\\" :disabled=\\\"index === 0\\\" @click=\\\"movePart(index, -1)\\\">\\n                      <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                        <path :d=\\\"iconPaths.chevronUp\\\" />\\n                      </svg>\\n                    </button>\\n                    <button class=\\\"studio__mini-btn\\\" :disabled=\\\"index === itemForm.parts.length - 1\\\" @click=\\\"movePart(index, 1)\\\">\\n                      <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                        <path :d=\\\"iconPaths.chevronDown\\\" />\\n                      </svg>\\n                    </button>\\n                    <button class=\\\"studio__mini-btn studio__mini-btn--danger\\\" @click=\\\"removePart(index)\\\">\\n                      <svg viewBox=\\\"0 0 24 24\\\" width=\\\"14\\\" height=\\\"14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                        <path :d=\\\"iconPaths.trash\\\" />\\n                      </svg>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- AI 描述 -->\\n            <div class=\\\"studio__form-group\\\">\\n              <label>AI 描述</label>\\n              <textarea v-model=\\\"itemForm.description\\\" rows=\\\"3\\\" placeholder=\\\"给 AI 的说明，如：简述角色当前的生命状态\\\"></textarea>\\n            </div>\\n\\n            <!-- 自动生成的格式 -->\\n            <div class=\\\"studio__form-group\\\">\\n              <label>自动生成格式 (format)</label>\\n              <div class=\\\"studio__format-preview\\\">{{ generatedFormat }}</div>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"studio__drawer-footer\\\">\\n            <button class=\\\"studio__btn\\\" @click=\\\"isEditingItem = false\\\">取消</button>\\n            <button class=\\\"studio__btn studio__btn--secondary\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.upload\\\" />\\n              </svg>\\n              注入世界书\\n            </button>\\n            <button class=\\\"studio__btn studio__btn--primary\\\" @click=\\\"saveItem\\\">\\n              <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path :d=\\\"iconPaths.save\\\" />\\n              </svg>\\n              保存\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </Teleport>\\n  </div>\\n</template>\\n\\n<style scoped>\\n/* ========================================\\n   定义工坊样式 - 左侧分类 + 右侧条目网格\\n   ======================================== */\\n\\n.definition-studio {\\n  display: flex;\\n  height: 100%;\\n  overflow: hidden;\\n  background: var(--bg-app, #f9fafb);\\n}\\n\\n/* ====== 侧边栏 ====== */\\n.studio__sidebar {\\n  width: 260px;\\n  min-width: 260px;\\n  background: rgba(255, 255, 255, 0.8);\\n  border-right: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n  display: flex;\\n  flex-direction: column;\\n  transition: all 0.3s ease;\\n}\\n\\n.studio__sidebar--collapsed {\\n  width: 0;\\n  min-width: 0;\\n  opacity: 0;\\n  overflow: hidden;\\n}\\n\\n.studio__sidebar-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px;\\n  border-bottom: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n}\\n\\n.studio__sidebar-title {\\n  font-size: 0.85rem;\\n  font-weight: 600;\\n  color: var(--text-secondary, #6b7280);\\n  text-transform: uppercase;\\n  letter-spacing: 0.05em;\\n}\\n\\n.studio__sidebar-content {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 8px;\\n}\\n\\n.studio__category-item {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  padding: 10px 12px;\\n  border: none;\\n  border-radius: 8px;\\n  background: transparent;\\n  color: var(--text-secondary, #6b7280);\\n  font-size: 0.9rem;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  text-align: left;\\n}\\n\\n.studio__category-item:hover {\\n  background: var(--surface-hover, rgba(0,0,0,0.04));\\n  color: var(--text-primary, #1f2937);\\n}\\n\\n.studio__category-item--active {\\n  background: var(--color-primary-subtle, rgba(99, 102, 241, 0.1));\\n  color: var(--color-primary, #6366f1);\\n}\\n\\n.studio__category-count {\\n  margin-left: auto;\\n  font-size: 0.75rem;\\n  background: var(--surface-hover, rgba(0,0,0,0.05));\\n  padding: 2px 8px;\\n  border-radius: 10px;\\n}\\n\\n.studio__category-badge {\\n  font-size: 0.65rem;\\n  padding: 2px 6px;\\n  border-radius: 4px;\\n  background: var(--color-primary-subtle, rgba(99, 102, 241, 0.1));\\n  color: var(--color-primary, #6366f1);\\n}\\n\\n.studio__category-badge--shared {\\n  background: rgba(16, 185, 129, 0.1);\\n  color: #10b981;\\n}\\n\\n.studio__category-actions {\\n  display: none;\\n  gap: 4px;\\n  margin-left: auto;\\n}\\n\\n.studio__category-item:hover .studio__category-actions {\\n  display: flex;\\n}\\n\\n.studio__category-item:hover .studio__category-count,\\n.studio__category-item:hover .studio__category-badge {\\n  display: none;\\n}\\n\\n/* ====== 主内容区 ====== */\\n.studio__main {\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 0;\\n  overflow: hidden;\\n}\\n\\n.studio__toolbar {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px 24px;\\n  border-bottom: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n  background: rgba(255,255,255,0.6);\\n}\\n\\n.studio__section-title {\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  color: var(--text-primary, #1f2937);\\n  margin: 0;\\n}\\n\\n.studio__item-count {\\n  font-weight: 400;\\n  color: var(--text-tertiary, #9ca3af);\\n  font-size: 0.9rem;\\n}\\n\\n.studio__toolbar-actions {\\n  display: flex;\\n  gap: 8px;\\n}\\n\\n/* ====== 条目网格 ====== */\\n.studio__items-grid {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 24px;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\n  gap: 16px;\\n  align-content: start;\\n}\\n\\n.studio__item-card {\\n  background: #fff;\\n  border: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n  border-radius: 12px;\\n  padding: 16px;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  position: relative;\\n}\\n\\n.studio__item-card:hover {\\n  border-color: var(--color-primary, #6366f1);\\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);\\n  transform: translateY(-2px);\\n}\\n\\n.studio__item-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 8px;\\n}\\n\\n.studio__item-key {\\n  font-family: monospace;\\n  font-size: 0.85rem;\\n  color: var(--color-primary, #6366f1);\\n  background: var(--color-primary-subtle, rgba(99, 102, 241, 0.1));\\n  padding: 2px 8px;\\n  border-radius: 4px;\\n}\\n\\n.studio__item-type {\\n  font-size: 0.7rem;\\n  padding: 2px 6px;\\n  border-radius: 4px;\\n  background: rgba(99, 102, 241, 0.1);\\n  color: #6366f1;\\n}\\n\\n.studio__item-type--list {\\n  background: rgba(245, 158, 11, 0.1);\\n  color: #f59e0b;\\n}\\n\\n.studio__item-name {\\n  font-weight: 600;\\n  color: var(--text-primary, #1f2937);\\n  margin-bottom: 8px;\\n}\\n\\n.studio__item-parts {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 4px;\\n  margin-bottom: 8px;\\n}\\n\\n.studio__part-tag {\\n  font-size: 0.75rem;\\n  padding: 2px 6px;\\n  border-radius: 4px;\\n  background: var(--surface-hover, rgba(0,0,0,0.05));\\n  color: var(--text-secondary, #6b7280);\\n}\\n\\n.studio__item-format {\\n  font-family: monospace;\\n  font-size: 0.75rem;\\n  color: var(--text-tertiary, #9ca3af);\\n  background: var(--surface-hover, rgba(0,0,0,0.03));\\n  padding: 6px 8px;\\n  border-radius: 6px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.studio__item-actions {\\n  position: absolute;\\n  top: 12px;\\n  right: 12px;\\n  display: none;\\n}\\n\\n.studio__item-card:hover .studio__item-actions {\\n  display: flex;\\n}\\n\\n/* ====== 空状态 ====== */\\n.studio__empty {\\n  grid-column: 1 / -1;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 48px;\\n  color: var(--text-tertiary, #9ca3af);\\n}\\n\\n.studio__empty svg {\\n  opacity: 0.5;\\n  margin-bottom: 16px;\\n}\\n\\n.studio__empty p {\\n  margin: 0 0 16px;\\n}\\n\\n/* ====== 按钮 ====== */\\n.studio__btn {\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 8px 16px;\\n  border: 1px solid var(--border-base, rgba(0,0,0,0.1));\\n  border-radius: 8px;\\n  background: #fff;\\n  color: var(--text-secondary, #6b7280);\\n  font-size: 0.875rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.studio__btn:hover {\\n  background: var(--surface-hover, rgba(0,0,0,0.04));\\n  border-color: var(--border-base, rgba(0,0,0,0.15));\\n}\\n\\n.studio__btn--primary {\\n  background: linear-gradient(135deg, var(--color-primary, #6366f1), #4f46e5);\\n  color: #fff;\\n  border: none;\\n}\\n\\n.studio__btn--primary:hover {\\n  transform: translateY(-1px);\\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\\n}\\n\\n.studio__btn--secondary {\\n  background: var(--color-primary-subtle, rgba(99, 102, 241, 0.1));\\n  color: var(--color-primary, #6366f1);\\n  border: none;\\n}\\n\\n.studio__btn--small {\\n  padding: 4px 10px;\\n  font-size: 0.8rem;\\n}\\n\\n.studio__icon-btn {\\n  width: 32px;\\n  height: 32px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: none;\\n  border-radius: 8px;\\n  background: transparent;\\n  color: var(--text-tertiary, #9ca3af);\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.studio__icon-btn:hover {\\n  background: var(--surface-hover, rgba(0,0,0,0.05));\\n  color: var(--text-primary, #1f2937);\\n}\\n\\n.studio__mini-btn {\\n  width: 24px;\\n  height: 24px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: none;\\n  border-radius: 4px;\\n  background: transparent;\\n  color: var(--text-tertiary, #9ca3af);\\n  cursor: pointer;\\n  transition: all 0.15s ease;\\n}\\n\\n.studio__mini-btn:hover {\\n  background: var(--surface-hover, rgba(0,0,0,0.08));\\n  color: var(--text-primary, #1f2937);\\n}\\n\\n.studio__mini-btn--danger:hover {\\n  background: rgba(239, 68, 68, 0.1);\\n  color: #ef4444;\\n}\\n\\n.studio__mini-btn:disabled {\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n}\\n\\n/* ====== 抽屉 ====== */\\n.studio__drawer-overlay {\\n  position: fixed;\\n  inset: 0;\\n  background: rgba(0, 0, 0, 0.4);\\n  backdrop-filter: blur(4px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 1000;\\n}\\n\\n.studio__drawer {\\n  width: 420px;\\n  max-width: 95vw;\\n  max-height: 90vh;\\n  background: #fff;\\n  border-radius: 16px;\\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n\\n.studio__drawer--wide {\\n  width: 600px;\\n}\\n\\n.studio__drawer-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 20px 24px;\\n  border-bottom: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n}\\n\\n.studio__drawer-header h3 {\\n  margin: 0;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  color: var(--text-primary, #1f2937);\\n}\\n\\n.studio__drawer-content {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 24px;\\n}\\n\\n.studio__drawer-footer {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 8px;\\n  padding: 16px 24px;\\n  border-top: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n  background: rgba(249, 250, 251, 0.9);\\n}\\n\\n/* ====== 表单 ====== */\\n.studio__form-group {\\n  margin-bottom: 16px;\\n}\\n\\n.studio__form-group label {\\n  display: block;\\n  font-size: 0.85rem;\\n  font-weight: 500;\\n  color: var(--text-secondary, #6b7280);\\n  margin-bottom: 6px;\\n}\\n\\n.studio__form-group input,\\n.studio__form-group select,\\n.studio__form-group textarea {\\n  width: 100%;\\n  padding: 10px 12px;\\n  border: 1px solid var(--border-base, rgba(0,0,0,0.1));\\n  border-radius: 8px;\\n  font-size: 0.9rem;\\n  color: var(--text-primary, #1f2937);\\n  background: #fff;\\n  transition: border-color 0.2s ease;\\n}\\n\\n.studio__form-group input:focus,\\n.studio__form-group select:focus,\\n.studio__form-group textarea:focus {\\n  outline: none;\\n  border-color: var(--color-primary, #6366f1);\\n  box-shadow: 0 0 0 3px var(--color-primary-subtle, rgba(99, 102, 241, 0.1));\\n}\\n\\n.studio__form-row {\\n  display: flex;\\n  gap: 16px;\\n}\\n\\n.studio__form-row .studio__form-group {\\n  flex: 1;\\n}\\n\\n.studio__form-group--small {\\n  max-width: 100px;\\n}\\n\\n.studio__radio-group {\\n  display: flex;\\n  gap: 16px;\\n}\\n\\n.studio__radio {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  color: var(--text-secondary, #6b7280);\\n}\\n\\n.studio__radio input[type=\\\"radio\\\"] {\\n  width: auto;\\n  margin: 0;\\n}\\n\\n/* ====== Parts 编辑器 ====== */\\n.studio__parts-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 8px;\\n}\\n\\n.studio__parts-list {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.studio__part-row {\\n  display: flex;\\n  gap: 8px;\\n  align-items: center;\\n}\\n\\n.studio__part-input {\\n  flex: 1;\\n  padding: 8px 10px !important;\\n  font-size: 0.85rem !important;\\n}\\n\\n.studio__part-select {\\n  width: 90px;\\n  padding: 8px 6px !important;\\n  font-size: 0.85rem !important;\\n}\\n\\n.studio__part-actions {\\n  display: flex;\\n  gap: 2px;\\n}\\n\\n/* ====== Format 预览 ====== */\\n.studio__format-preview {\\n  font-family: monospace;\\n  font-size: 0.9rem;\\n  padding: 12px;\\n  background: var(--surface-hover, rgba(0,0,0,0.03));\\n  border-radius: 8px;\\n  border: 1px solid var(--border-base, rgba(0,0,0,0.08));\\n  color: var(--color-primary, #6366f1);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.manager[data-v-c6c4011c]{--modal-bg:rgba(255,255,255,0.98);--modal-border:rgba(0,0,0,0.08);--modal-shadow:0 20px 60px rgba(0,0,0,0.15);--text-primary:#1f2937;--text-secondary:#6b7280;--text-tertiary:#9ca3af;--color-primary:#6366f1;--color-primary-hover:#4f46e5;--color-primary-subtle:rgba(99,102,241,0.1);--color-accent:#8b5cf6;--color-success:#10b981;--color-danger:#ef4444;--surface-hover:rgba(0,0,0,0.04);--surface-active:rgba(99,102,241,0.12);--nav-width:72px;--radius-md:8px;--radius-lg:12px;--radius-xl:16px;width:92vw;max-width:1100px;height:85vh;max-height:750px;background:var(--modal-bg);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--modal-border);border-radius:var(--radius-xl);box-shadow:var(--modal-shadow);display:flex;flex-direction:row;overflow:hidden;margin:auto;font-family:'Inter','Outfit',system-ui,-apple-system,sans-serif}.manager__nav[data-v-c6c4011c]{width:var(--nav-width);min-width:var(--nav-width);background:rgba(0,0,0,0.02);border-right:1px solid var(--modal-border);display:flex;flex-direction:column;align-items:center;padding:24px 0;gap:12px;flex-shrink:0}.manager__nav-item[data-v-c6c4011c]{width:48px;height:48px;border-radius:var(--radius-lg);border:none;background:transparent;color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);position:relative}.manager__nav-item[data-v-c6c4011c]:hover:not(.manager__nav-item--active){background:var(--surface-hover);color:var(--text-primary)}.manager__nav-item--active[data-v-c6c4011c]{background:linear-gradient(135deg,var(--color-primary),var(--color-accent));color:#fff;box-shadow:0 4px 12px rgba(99,102,241,0.35);transform:translateY(-2px)}.manager__nav-item--active[data-v-c6c4011c]::after{content:'';position:absolute;inset:-3px;border-radius:15px;border:2px solid var(--modal-bg);opacity:0.4;z-index:-1}.manager__nav-icon[data-v-c6c4011c]{flex-shrink:0}.manager__main[data-v-c6c4011c]{flex:1;display:flex;flex-direction:column;min-width:0;overflow:hidden}.manager__header[data-v-c6c4011c]{display:flex;justify-content:space-between;align-items:center;padding:20px 28px;background:rgba(255,255,255,0.6);border-bottom:1px solid var(--modal-border);flex-shrink:0}.manager__title-group[data-v-c6c4011c]{display:flex;flex-direction:column;gap:4px}.manager__title[data-v-c6c4011c]{margin:0;font-size:1.4rem;font-weight:700;color:var(--text-primary);letter-spacing:-0.02em}.manager__subtitle[data-v-c6c4011c]{margin:0;font-size:0.85rem;color:var(--text-tertiary)}.manager__actions[data-v-c6c4011c]{display:flex;align-items:center;gap:10px}.manager__btn[data-v-c6c4011c]{display:flex;align-items:center;gap:6px;padding:10px 18px;border:none;border-radius:var(--radius-md);font-size:13px;font-weight:600;cursor:pointer;transition:all 0.2s ease}.manager__btn--primary[data-v-c6c4011c]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-hover));color:#fff;box-shadow:0 2px 8px rgba(99,102,241,0.3)}.manager__btn--primary[data-v-c6c4011c]:hover{transform:translateY(-1px);box-shadow:0 4px 14px rgba(99,102,241,0.4)}.manager__btn--close[data-v-c6c4011c]{width:38px;height:38px;padding:0;background:var(--surface-hover);color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;border-radius:50%}.manager__btn--close[data-v-c6c4011c]:hover{background:rgba(239,68,68,0.12);color:var(--color-danger)}.manager__content[data-v-c6c4011c]{flex:1;overflow:auto;padding:28px;background:linear-gradient(180deg,rgba(249,250,251,0.5) 0%,rgba(255,255,255,0) 100%)}.manager__placeholder[data-v-c6c4011c]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}.manager__placeholder-icon[data-v-c6c4011c]{color:var(--color-primary);opacity:0.5;margin-bottom:20px}.manager__placeholder h2[data-v-c6c4011c]{margin:0 0 10px;font-size:1.6rem;font-weight:700;color:var(--text-primary)}.manager__placeholder-text[data-v-c6c4011c]{margin:0;color:var(--text-secondary);font-size:15px}.manager__placeholder-hint[data-v-c6c4011c]{margin:14px 0 0;color:var(--color-success);font-size:13px;font-weight:500}.manager__footer[data-v-c6c4011c]{display:flex;justify-content:space-between;padding:14px 28px;background:rgba(249,250,251,0.95);border-top:1px solid var(--modal-border);font-size:12px;color:var(--text-tertiary);flex-shrink:0}.manager__footer-status[data-v-c6c4011c]{color:var(--color-primary);font-weight:500}.manager__content[data-v-c6c4011c]::-webkit-scrollbar{width:6px}.manager__content[data-v-c6c4011c]::-webkit-scrollbar-track{background:transparent}.manager__content[data-v-c6c4011c]::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:3px}.manager__content[data-v-c6c4011c]::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.2)}@media (max-width:640px){.manager[data-v-c6c4011c]{flex-direction:column-reverse;width:98vw;height:92vh}.manager__nav[data-v-c6c4011c]{width:100%;min-width:100%;height:auto;flex-direction:row;justify-content:space-around;padding:8px 12px;border-right:none;border-top:1px solid var(--modal-border);gap:0}.manager__nav-item[data-v-c6c4011c]{width:44px;height:44px}.manager__nav-item--active[data-v-c6c4011c]{transform:none}.manager__header[data-v-c6c4011c]{padding:16px 20px}.manager__title[data-v-c6c4011c]{font-size:1.2rem}.manager__content[data-v-c6c4011c]{padding:20px}}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/通用状态栏框架/components/manager/ManagerModal.vue\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n/**\\n * 管理器模态框 - 左侧导航布局版本\\n *\\n * 基于 AIStudioAPP 版 UI 参考的设计系统\\n * 左侧图标导航栏 + 主内容区\\n */\\nimport { computed, ref } from 'vue';\\nimport DefinitionStudio from './modules/DefinitionStudio.vue';\\n\\ntype ModuleKey = 'data' | 'definitions' | 'styles' | 'layout' | 'config';\\n\\nconst activeModule = ref<ModuleKey>('data');\\n\\nconst modules = [\\n  { key: 'data', name: '数据中心', icon: 'database', desc: '管理角色状态数据' },\\n  { key: 'definitions', name: '定义工坊', icon: 'box', desc: '定义数据结构与元数据' },\\n  { key: 'styles', name: '样式工坊', icon: 'paintbrush', desc: '创建可复用样式单元' },\\n  { key: 'layout', name: '布局编排', icon: 'layout', desc: '可视化设计状态栏布局' },\\n  { key: 'config', name: '系统配置', icon: 'settings', desc: '预设、快照与系统设置' },\\n] as const;\\n\\nconst currentModule = computed(() => modules.find(m => m.key === activeModule.value));\\n\\n// SVG 图标路径 (Lucide Icons 风格)\\nconst iconPaths: Record<string, string> = {\\n  // Database - 数据中心\\n  database:\\n    'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4zm8 12c0 2.21-3.58 4-8 4s-8-1.79-8-4v-2.18c1.86 1.38 4.78 2.18 8 2.18s6.14-.8 8-2.18V16z',\\n  // Box - 定义工坊\\n  box: 'M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.36.2-.74.18-1.14 0l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.36-.2.74-.18 1.14 0l7.9 4.44c.32.17.53.5.53.88v9zM12 4.15 5.04 8 12 11.85 18.96 8 12 4.15z',\\n  // Paintbrush - 样式工坊\\n  paintbrush:\\n    'M20.71 4.63l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41zM7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3z',\\n  // Layout - 布局编排\\n  layout:\\n    'M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 7h4v4H7V7zm6 0h4v4h-4V7zM7 13h4v4H7v-4zm6 0h4v4h-4v-4z',\\n  // Settings - 系统配置\\n  settings:\\n    'M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z',\\n  // Close\\n  close: 'M18 6L6 18M6 6l12 12',\\n  // Save\\n  save: 'M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z',\\n};\\n\\nfunction handleClose() {\\n  // 事件需要发送到主窗口（Vue 组件虽然挂载在主窗口 DOM，但脚本运行在 iframe 中）\\n  const targetDocument = (window.parent ?? window).document;\\n  const event = new CustomEvent('th:manager-close');\\n  targetDocument.documentElement.dispatchEvent(event);\\n}\\n</script>\\n\\n<template>\\n  <div class=\\\"manager\\\" @click.stop>\\n    <!-- 左侧图标导航栏 -->\\n    <nav class=\\\"manager__nav\\\">\\n      <button\\n        v-for=\\\"mod in modules\\\"\\n        :key=\\\"mod.key\\\"\\n        type=\\\"button\\\"\\n        class=\\\"manager__nav-item\\\"\\n        :class=\\\"{ 'manager__nav-item--active': activeModule === mod.key }\\\"\\n        :title=\\\"mod.name\\\"\\n        @click=\\\"activeModule = mod.key\\\"\\n      >\\n        <svg class=\\\"manager__nav-icon\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"22\\\" height=\\\"22\\\">\\n          <path :d=\\\"iconPaths[mod.icon]\\\" fill=\\\"currentColor\\\" />\\n        </svg>\\n      </button>\\n    </nav>\\n\\n    <!-- 主内容区 -->\\n    <div class=\\\"manager__main\\\">\\n      <!-- 顶部标题栏 -->\\n      <header class=\\\"manager__header\\\">\\n        <div class=\\\"manager__title-group\\\">\\n          <h1 class=\\\"manager__title\\\">{{ currentModule?.name }}</h1>\\n          <p class=\\\"manager__subtitle\\\">{{ currentModule?.desc }}</p>\\n        </div>\\n        <div class=\\\"manager__actions\\\">\\n          <button class=\\\"manager__btn manager__btn--primary\\\" type=\\\"button\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" width=\\\"16\\\" height=\\\"16\\\">\\n              <path :d=\\\"iconPaths.save\\\" fill=\\\"currentColor\\\" />\\n            </svg>\\n            <span>保存</span>\\n          </button>\\n          <button class=\\\"manager__btn manager__btn--close\\\" type=\\\"button\\\" @click=\\\"handleClose\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n              <path :d=\\\"iconPaths.close\\\" />\\n            </svg>\\n          </button>\\n        </div>\\n      </header>\\n\\n      <!-- 模块内容区 -->\\n      <main class=\\\"manager__content\\\">\\n        <!-- 定义工坊 -->\\n        <DefinitionStudio v-if=\\\"activeModule === 'definitions'\\\" />\\n\\n        <!-- 占位符 (其他模块开发中) -->\\n        <div v-else class=\\\"manager__placeholder\\\">\\n          <svg class=\\\"manager__placeholder-icon\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"64\\\" height=\\\"64\\\">\\n            <path :d=\\\"iconPaths[currentModule?.icon || 'database']\\\" fill=\\\"currentColor\\\" />\\n          </svg>\\n          <h2>{{ currentModule?.name }}</h2>\\n          <p class=\\\"manager__placeholder-text\\\">此模块正在开发中...</p>\\n          <p class=\\\"manager__placeholder-hint\\\">框架已成功加载！后续将逐步完善各项功能</p>\\n        </div>\\n      </main>\\n\\n      <!-- 底部状态栏 -->\\n      <footer class=\\\"manager__footer\\\">\\n        <span>通用状态栏框架 v0.1.0</span>\\n        <span class=\\\"manager__footer-status\\\">浅色模式 · 开发中</span>\\n      </footer>\\n    </div>\\n  </div>\\n</template>\\n\\n<style scoped>\\n/* ============================================\\n   左侧导航布局 - 基于 AIStudioAPP 版设计系统\\n   ============================================ */\\n\\n.manager {\\n  /* CSS 变量 */\\n  --modal-bg: rgba(255, 255, 255, 0.98);\\n  --modal-border: rgba(0, 0, 0, 0.08);\\n  --modal-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);\\n\\n  --text-primary: #1f2937;\\n  --text-secondary: #6b7280;\\n  --text-tertiary: #9ca3af;\\n\\n  --color-primary: #6366f1;\\n  --color-primary-hover: #4f46e5;\\n  --color-primary-subtle: rgba(99, 102, 241, 0.1);\\n  --color-accent: #8b5cf6;\\n  --color-success: #10b981;\\n  --color-danger: #ef4444;\\n\\n  --surface-hover: rgba(0, 0, 0, 0.04);\\n  --surface-active: rgba(99, 102, 241, 0.12);\\n\\n  --nav-width: 72px;\\n  --radius-md: 8px;\\n  --radius-lg: 12px;\\n  --radius-xl: 16px;\\n\\n  /* 布局 */\\n  width: 92vw;\\n  max-width: 1100px;\\n  height: 85vh;\\n  max-height: 750px;\\n\\n  background: var(--modal-bg);\\n  backdrop-filter: blur(24px);\\n  -webkit-backdrop-filter: blur(24px);\\n  border: 1px solid var(--modal-border);\\n  border-radius: var(--radius-xl);\\n  box-shadow: var(--modal-shadow);\\n\\n  display: flex;\\n  flex-direction: row;\\n  overflow: hidden;\\n  margin: auto;\\n\\n  font-family:\\n    'Inter',\\n    'Outfit',\\n    system-ui,\\n    -apple-system,\\n    sans-serif;\\n}\\n\\n/* ====== 左侧导航栏 ====== */\\n.manager__nav {\\n  width: var(--nav-width);\\n  min-width: var(--nav-width);\\n  background: rgba(0, 0, 0, 0.02);\\n  border-right: 1px solid var(--modal-border);\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 24px 0;\\n  gap: 12px;\\n  flex-shrink: 0;\\n}\\n\\n.manager__nav-item {\\n  width: 48px;\\n  height: 48px;\\n  border-radius: var(--radius-lg);\\n  border: none;\\n  background: transparent;\\n  color: var(--text-tertiary);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\\n  position: relative;\\n}\\n\\n.manager__nav-item:hover:not(.manager__nav-item--active) {\\n  background: var(--surface-hover);\\n  color: var(--text-primary);\\n}\\n\\n.manager__nav-item--active {\\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\\n  color: #fff;\\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.35);\\n  transform: translateY(-2px);\\n}\\n\\n.manager__nav-item--active::after {\\n  content: '';\\n  position: absolute;\\n  inset: -3px;\\n  border-radius: 15px;\\n  border: 2px solid var(--modal-bg);\\n  opacity: 0.4;\\n  z-index: -1;\\n}\\n\\n.manager__nav-icon {\\n  flex-shrink: 0;\\n}\\n\\n/* ====== 主内容区 ====== */\\n.manager__main {\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 0;\\n  overflow: hidden;\\n}\\n\\n/* 顶部标题栏 */\\n.manager__header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 20px 28px;\\n  background: rgba(255, 255, 255, 0.6);\\n  border-bottom: 1px solid var(--modal-border);\\n  flex-shrink: 0;\\n}\\n\\n.manager__title-group {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 4px;\\n}\\n\\n.manager__title {\\n  margin: 0;\\n  font-size: 1.4rem;\\n  font-weight: 700;\\n  color: var(--text-primary);\\n  letter-spacing: -0.02em;\\n}\\n\\n.manager__subtitle {\\n  margin: 0;\\n  font-size: 0.85rem;\\n  color: var(--text-tertiary);\\n}\\n\\n.manager__actions {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n/* 按钮 */\\n.manager__btn {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 10px 18px;\\n  border: none;\\n  border-radius: var(--radius-md);\\n  font-size: 13px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.manager__btn--primary {\\n  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));\\n  color: #fff;\\n  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);\\n}\\n\\n.manager__btn--primary:hover {\\n  transform: translateY(-1px);\\n  box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4);\\n}\\n\\n.manager__btn--close {\\n  width: 38px;\\n  height: 38px;\\n  padding: 0;\\n  background: var(--surface-hover);\\n  color: var(--text-tertiary);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 50%;\\n}\\n\\n.manager__btn--close:hover {\\n  background: rgba(239, 68, 68, 0.12);\\n  color: var(--color-danger);\\n}\\n\\n/* 内容区 */\\n.manager__content {\\n  flex: 1;\\n  overflow: auto;\\n  padding: 28px;\\n  background: linear-gradient(180deg, rgba(249, 250, 251, 0.5) 0%, rgba(255, 255, 255, 0) 100%);\\n}\\n\\n.manager__placeholder {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n  text-align: center;\\n}\\n\\n.manager__placeholder-icon {\\n  color: var(--color-primary);\\n  opacity: 0.5;\\n  margin-bottom: 20px;\\n}\\n\\n.manager__placeholder h2 {\\n  margin: 0 0 10px;\\n  font-size: 1.6rem;\\n  font-weight: 700;\\n  color: var(--text-primary);\\n}\\n\\n.manager__placeholder-text {\\n  margin: 0;\\n  color: var(--text-secondary);\\n  font-size: 15px;\\n}\\n\\n.manager__placeholder-hint {\\n  margin: 14px 0 0;\\n  color: var(--color-success);\\n  font-size: 13px;\\n  font-weight: 500;\\n}\\n\\n/* 底部状态栏 */\\n.manager__footer {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 14px 28px;\\n  background: rgba(249, 250, 251, 0.95);\\n  border-top: 1px solid var(--modal-border);\\n  font-size: 12px;\\n  color: var(--text-tertiary);\\n  flex-shrink: 0;\\n}\\n\\n.manager__footer-status {\\n  color: var(--color-primary);\\n  font-weight: 500;\\n}\\n\\n/* 滚动条 */\\n.manager__content::-webkit-scrollbar {\\n  width: 6px;\\n}\\n\\n.manager__content::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n\\n.manager__content::-webkit-scrollbar-thumb {\\n  background: rgba(0, 0, 0, 0.12);\\n  border-radius: 3px;\\n}\\n\\n.manager__content::-webkit-scrollbar-thumb:hover {\\n  background: rgba(0, 0, 0, 0.2);\\n}\\n\\n/* 响应式：小屏幕改为底部导航 */\\n@media (max-width: 640px) {\\n  .manager {\\n    flex-direction: column-reverse;\\n    width: 98vw;\\n    height: 92vh;\\n  }\\n\\n  .manager__nav {\\n    width: 100%;\\n    min-width: 100%;\\n    height: auto;\\n    flex-direction: row;\\n    justify-content: space-around;\\n    padding: 8px 12px;\\n    border-right: none;\\n    border-top: 1px solid var(--modal-border);\\n    gap: 0;\\n  }\\n\\n  .manager__nav-item {\\n    width: 44px;\\n    height: 44px;\\n  }\\n\\n  .manager__nav-item--active {\\n    transform: none;\\n  }\\n\\n  .manager__header {\\n    padding: 16px 20px;\\n  }\\n\\n  .manager__title {\\n    font-size: 1.2rem;\\n  }\\n\\n  .manager__content {\\n    padding: 20px;\\n  }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.3_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.status-bar[data-v-0aa8f2f0]{--bar-bg:rgba(255,255,255,0.92);--bar-border:rgba(0,0,0,0.08);--bar-shadow:0 4px 16px rgba(0,0,0,0.08);--text-primary:#1f2937;--text-secondary:#6b7280;--text-tertiary:#9ca3af;--color-primary:#6366f1;--color-success:#10b981;font-family:'Outfit','Inter',system-ui,-apple-system,sans-serif;font-size:14px;color:var(--text-primary);background:var(--bar-bg);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--bar-border);border-radius:12px;padding:14px 16px;margin-top:12px;box-shadow:var(--bar-shadow)}.status-bar__header[data-v-0aa8f2f0]{display:flex;align-items:center;gap:10px;padding-bottom:12px;margin-bottom:12px;border-bottom:1px solid var(--bar-border)}.status-bar__icon[data-v-0aa8f2f0]{color:var(--color-primary);flex-shrink:0}.status-bar__title[data-v-0aa8f2f0]{font-weight:600;font-size:15px;color:var(--text-primary)}.status-bar__streaming[data-v-0aa8f2f0]{margin-left:auto;font-size:11px;font-weight:500;padding:3px 10px;background:rgba(16,185,129,0.12);color:var(--color-success);border-radius:12px;animation:pulse-0aa8f2f0 1.5s ease-in-out infinite}@keyframes pulse-0aa8f2f0{0%,100%{opacity:1}50%{opacity:0.5}}.status-bar__content[data-v-0aa8f2f0]{display:flex;flex-direction:column;gap:8px}.status-bar__placeholder[data-v-0aa8f2f0]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px;color:var(--text-secondary);text-align:center}.status-bar__hint[data-v-0aa8f2f0]{font-size:12px;color:var(--text-tertiary)}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/通用状态栏框架/components/statusbar/StatusBar.vue\"],\"names\":[],\"mappings\":\"AAqCA,6BACE,+BAAmC,CACnC,6BAAiC,CACjC,wCAA4C,CAE5C,sBAAuB,CACvB,wBAAyB,CACzB,uBAAwB,CAExB,uBAAwB,CACxB,uBAAwB,CAExB,+DAKY,CACZ,cAAe,CACf,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CAC3B,kCAAmC,CACnC,kCAAmC,CACnC,kBAAmB,CACnB,iBAAkB,CAClB,eAAgB,CAChB,4BACF,CAEA,qCACE,YAAa,CACb,kBAAmB,CACnB,QAAS,CACT,mBAAoB,CACpB,kBAAmB,CACnB,yCACF,CAEA,mCACE,0BAA2B,CAC3B,aACF,CAEA,oCACE,eAAgB,CAChB,cAAe,CACf,yBACF,CAEA,wCACE,gBAAiB,CACjB,cAAe,CACf,eAAgB,CAChB,gBAAiB,CACjB,gCAAoC,CACpC,0BAA2B,CAC3B,kBAAmB,CACnB,kDACF,CAEA,0BACE,QAEE,SACF,CACA,IACE,WACF,CACF,CAEA,sCACE,YAAa,CACb,qBAAsB,CACtB,OACF,CAEA,0CACE,YAAa,CACb,qBAAsB,CACtB,kBAAmB,CACnB,OAAQ,CACR,YAAa,CACb,2BAA4B,CAC5B,iBACF,CAEA,mCACE,cAAe,CACf,0BACF\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n/**\\n * 状态栏组件 - 浅色模式版本\\n * 显示在每个 AI 消息楼层下方\\n */\\nimport { injectStreamingMessageContext } from '@util/streaming';\\n\\nconst ctx = injectStreamingMessageContext();\\n\\n// SVG 图标路径\\nconst databaseIcon =\\n  'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4zm8 12c0 2.21-3.58 4-8 4s-8-1.79-8-4v-2.18c1.86 1.38 4.78 2.18 8 2.18s6.14-.8 8-2.18V16z';\\n</script>\\n\\n<template>\\n  <div class=\\\"status-bar\\\">\\n    <div class=\\\"status-bar__header\\\">\\n      <svg class=\\\"status-bar__icon\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"18\\\" height=\\\"18\\\">\\n        <path :d=\\\"databaseIcon\\\" fill=\\\"currentColor\\\" />\\n      </svg>\\n      <span class=\\\"status-bar__title\\\">通用状态栏</span>\\n      <span v-if=\\\"ctx.during_streaming\\\" class=\\\"status-bar__streaming\\\">生成中...</span>\\n    </div>\\n    <div class=\\\"status-bar__content\\\">\\n      <div class=\\\"status-bar__placeholder\\\">\\n        <span>暂无状态数据</span>\\n        <span class=\\\"status-bar__hint\\\">点击扩展菜单中的「通用状态栏管理器」添加定义</span>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<style scoped>\\n/* ============================================\\n   浅色模式状态栏 - 玻璃拟态风格\\n   ============================================ */\\n\\n.status-bar {\\n  --bar-bg: rgba(255, 255, 255, 0.92);\\n  --bar-border: rgba(0, 0, 0, 0.08);\\n  --bar-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\\n\\n  --text-primary: #1f2937;\\n  --text-secondary: #6b7280;\\n  --text-tertiary: #9ca3af;\\n\\n  --color-primary: #6366f1;\\n  --color-success: #10b981;\\n\\n  font-family:\\n    'Outfit',\\n    'Inter',\\n    system-ui,\\n    -apple-system,\\n    sans-serif;\\n  font-size: 14px;\\n  color: var(--text-primary);\\n  background: var(--bar-bg);\\n  backdrop-filter: blur(12px);\\n  -webkit-backdrop-filter: blur(12px);\\n  border: 1px solid var(--bar-border);\\n  border-radius: 12px;\\n  padding: 14px 16px;\\n  margin-top: 12px;\\n  box-shadow: var(--bar-shadow);\\n}\\n\\n.status-bar__header {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  padding-bottom: 12px;\\n  margin-bottom: 12px;\\n  border-bottom: 1px solid var(--bar-border);\\n}\\n\\n.status-bar__icon {\\n  color: var(--color-primary);\\n  flex-shrink: 0;\\n}\\n\\n.status-bar__title {\\n  font-weight: 600;\\n  font-size: 15px;\\n  color: var(--text-primary);\\n}\\n\\n.status-bar__streaming {\\n  margin-left: auto;\\n  font-size: 11px;\\n  font-weight: 500;\\n  padding: 3px 10px;\\n  background: rgba(16, 185, 129, 0.12);\\n  color: var(--color-success);\\n  border-radius: 12px;\\n  animation: pulse 1.5s ease-in-out infinite;\\n}\\n\\n@keyframes pulse {\\n  0%,\\n  100% {\\n    opacity: 1;\\n  }\\n  50% {\\n    opacity: 0.5;\\n  }\\n}\\n\\n.status-bar__content {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.status-bar__placeholder {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 8px;\\n  padding: 20px;\\n  color: var(--text-secondary);\\n  text-align: center;\\n}\\n\\n.status-bar__hint {\\n  font-size: 12px;\\n  color: var(--text-tertiary);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import iframe_srcdoc from './iframe_srcdoc.html';\n\nexport async function loadReadme(url: string): Promise<boolean> {\n  const readme = await fetch(url);\n  if (!readme.ok) {\n    return false;\n  }\n  const readme_text = await readme.text();\n  replaceScriptInfo(readme_text);\n  return true;\n}\n\nexport function teleportStyle(\n  append_to: JQuery.Selector | JQuery.htmlString | JQuery.TypeOrArray<Element | DocumentFragment> | JQuery = 'head',\n): { destroy: () => void } {\n  const $div = $(`<div>`)\n    .attr('script_id', getScriptId())\n    .append($(`head > style`, document).clone())\n    .appendTo(append_to);\n\n  return {\n    destroy: () => $div.remove(),\n  };\n}\n\nexport function createScriptIdIframe(): JQuery<HTMLIFrameElement> {\n  return $(`<iframe>`).attr({\n    script_id: getScriptId(),\n    frameborder: 0,\n    srcdoc: iframe_srcdoc,\n  }) as JQuery<HTMLIFrameElement>;\n}\n\nexport function createScriptIdDiv(): JQuery<HTMLDivElement> {\n  return $('<div>').attr('script_id', getScriptId()) as JQuery<HTMLDivElement>;\n}\n\nexport function reloadOnChatChange(): EventOnReturn {\n  let chat_id = SillyTavern.getCurrentChatId();\n  return eventOn(tavern_events.CHAT_CHANGED, new_chat_id => {\n    if (chat_id !== new_chat_id) {\n      chat_id = new_chat_id;\n      window.location.reload();\n    }\n  });\n}\n","import { compare } from 'compare-versions';\nimport JSON5 from 'json5';\nimport { jsonrepair } from 'jsonrepair';\nimport { toDotPath } from 'zod/v4/core';\n\nexport function assignInplace<T>(destination: T[], new_array: T[]): T[] {\n  destination.length = 0;\n  destination.push(...new_array);\n  return destination;\n}\n\nexport function chunkBy<T>(array: T[], predicate: (lhs: T, rhs: T) => boolean): T[][] {\n  if (array.length === 0) {\n    return [];\n  }\n\n  const chunks: T[][] = [[array[0]]];\n  for (const [lhs, rhs] of _.zip(_.dropRight(array), _.drop(array))) {\n    if (predicate(lhs!, rhs!)) {\n      chunks[chunks.length - 1].push(rhs!);\n    } else {\n      chunks.push([rhs!]);\n    }\n  }\n  return chunks;\n}\n\nexport function regexFromString(input: string, replace_macros?: boolean): RegExp | null {\n  if (!input) {\n    return null;\n  }\n  const makeRegex = (pattern: string, flags: string) => {\n    if (replace_macros) {\n      pattern = substitudeMacros(pattern);\n    }\n    return new RegExp(pattern, flags);\n  };\n  try {\n    const match = input.match(/\\/(.+)\\/([a-z]*)/i);\n    if (!match) {\n      return makeRegex(_.escapeRegExp(input), 'i');\n    }\n    if (match[2] && !/^(?!.*?(.).*?\\1)[gmixXsuUAJ]+$/.test(match[3])) {\n      return makeRegex(input, 'i');\n    }\n    let flags = match[2] ?? '';\n    _.pull(flags, 'g');\n    if (flags.indexOf('i') === -1) {\n      flags = flags + 'i';\n    }\n    return makeRegex(match[1], flags);\n  } catch {\n    return null;\n  }\n}\n\nexport function uuidv4(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport async function checkMinimumVersion(expected: string, title: string) {\n  if (compare(await getTavernHelperVersion(), expected, '<')) {\n    toastr.error(`'${title}' 需要酒馆助手版本 >= '${expected}'`, '版本不兼容');\n  }\n}\n\nexport function prettifyErrorWithInput(error: z.ZodError) {\n  return _([...error.issues])\n    .sortBy(issue => issue.path?.length ?? 0)\n    .flatMap(issue => {\n      const lines = [`✖ ${issue.message}`];\n      if (issue.path?.length) {\n        lines.push(`  → 路径: ${toDotPath(issue.path)}`);\n      }\n      if (issue.input !== undefined) {\n        lines.push(`  → 输入: ${JSON.stringify(issue.input)}`);\n      }\n      return lines;\n    })\n    .join('\\n');\n}\n\nexport function literalYamlify(value: any) {\n  return YAML.stringify(value, { blockQuote: 'literal' });\n}\n\nexport function parseString(content: string): any {\n  let parsed: unknown;\n  try {\n    parsed = YAML.parseDocument(content, { merge: true }).toJS();\n  } catch (yaml_error) {\n    try {\n      // eslint-disable-next-line import-x/no-named-as-default-member\n      parsed = JSON5.parse(content);\n    } catch (json5_error) {\n      try {\n        parsed = JSON.parse(jsonrepair(content));\n      } catch (json_error) {\n        const toError = (error: unknown) => (error instanceof Error ? error.message : String(error));\n        throw new Error(\n          literalYamlify({\n            ['要解析的字符串不是有效的 YAML/JSON 格式']: {\n              字符串内容: content,\n              YAML错误信息: toError(yaml_error),\n              JSON5错误信息: toError(json5_error),\n              尝试修复JSON时的错误信息: toError(json_error),\n            },\n          }),\n        );\n      }\n    }\n  }\n  return parsed;\n}\n\nexport async function checkAndUpdateCharacter(name: string, latest_version: string, png_url: string): Promise<void> {\n  const current_version = (await getCharacter(name)).version.trim() || '0.0.0';\n  if (compare(current_version, latest_version, '>=')) {\n    return;\n  }\n  await importRawCharacter(name, await fetch(png_url).then(response => response.blob()));\n  replaceCharacter(name, { version: latest_version });\n  toastr.success(\n    `角色卡已自动更新到 '${latest_version.startsWith('v') ? latest_version : `v${latest_version}`}'`,\n    name,\n  );\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { createScriptIdDiv, createScriptIdIframe, teleportStyle } from '@util/script';\nimport { uuidv4 } from './common';\nexport function injectStreamingMessageContext() {\n    return readonly(inject('streaming_message_context'));\n}\n/**\n * 将组件作为流式楼层界面挂载到酒馆各个楼层, 替换掉酒馆原生的楼层正文显示.\n *\n * 方案是隐藏酒馆原来的楼层文本, 而在它下方插入一个类名有 `mes_streaming` 的 DOM:\n *   - `options.host==='iframe'` 则插入的是 iframe, 其内 contentDocument.body 作为组件的挂载点\n *     - 样式将与酒馆原生界面隔离\n *     - 组件内可以使用 tailwindcss\n *   - `options.host==='div'` 则插入的是 div, 它直接作为组件的挂载点\n *     - 将会继承酒馆样式\n *     - 禁止使用 mes_text 类名, 它会让酒馆的编辑楼层功能不可用\n *     - 组件内不能使用 tailwindcss, 因为会影响酒馆其他部分的样式\n *     - 你也许会用到 `@types/function/displayed_message.d.ts` 中的 `formatAsDisplayedMessage` 来格式化消息内容, 并用 `.replaceAll('mes_text', 'mes_streaming')` 来为格式化后内容适配样式\n *\n * @param creator 创建流式界面的组件, 函数内可以用 `.use` 安装依赖或执行其他逻辑\n * @param options 可选选项\n *   - `host`: 宿主, 默认为 `'iframe'`, 因为 `'iframe'` 能隔离样式, 更方便做复杂界面\n *   - `filter`: 楼层过滤器. 如果设置, 则只有符合条件的楼层才会被挂载流式楼层界面\n *   - `prefix`: 组件的唯一标识符, 默认随机生成一个. 函数产生的流式楼层界面会共享这个 `prefix`, 并将 `host` DOM 的 id 设置成 `${prefix}-${message_id}`.\n * @returns 卸载流式楼层界面的函数\n */\nexport function mountStreamingMessages(creator, options = {}) {\n    const { host = 'iframe', filter, prefix = uuidv4() } = options;\n    const states = new Map();\n    let has_stoped = false;\n    const destroyIfInvalid = (message_id) => {\n        const min_message_id = Number($('#chat > .mes').first().attr('mesid'));\n        if (!_.inRange(message_id, min_message_id, SillyTavern.chat.length)) {\n            states.get(message_id)?.destroy();\n            return true;\n        }\n        return false;\n    };\n    const destroyAllInvalid = () => {\n        states.keys().forEach(message_id => destroyIfInvalid(message_id));\n    };\n    const renderOneMessage = async (message_id, stream_message) => {\n        if (has_stoped) {\n            return;\n        }\n        if (destroyIfInvalid(message_id)) {\n            return;\n        }\n        const message = stream_message ?? getChatMessages(message_id)[0].message ?? '';\n        if (filter && !filter(message_id, message)) {\n            states.get(message_id)?.destroy();\n            return;\n        }\n        const $message_element = $(`.mes[mesid='${message_id}']`);\n        const $mes_text = $message_element.find('.mes_text').addClass('hidden!');\n        $message_element.find('.TH-streaming').addClass('hidden!');\n        let $host = $message_element.find(`#${prefix}-${message_id}`);\n        if ($host.length > 0) {\n            const state = states.get(message_id);\n            if (state) {\n                state.data.message = message;\n                state.data.during_streaming = Boolean(stream_message);\n                return;\n            }\n        }\n        states.get(message_id)?.destroy();\n        $host.remove();\n        let $mes_streaming = $message_element.find('.mes_streaming');\n        if ($mes_streaming.length === 0) {\n            $mes_streaming = $('<div class=\"mes_streaming\">')\n                .css({\n                'font-weight': '500',\n                'line-height': 'calc(var(--mainFontSize) + .5rem)',\n                'max-width': '100%',\n                'overflow-wrap': 'anywhere',\n                padding: 'calc(var(--mainFontSize) * 0.8) 0 0 0',\n            })\n                .insertAfter($mes_text);\n        }\n        $host = (host === 'iframe' ? createScriptIdIframe().addClass('w-full') : createScriptIdDiv())\n            .attr('id', `${prefix}-${message_id}`)\n            .appendTo($mes_streaming);\n        const data = reactive({\n            prefix,\n            host_id: `${prefix}-${message_id}`,\n            message_id,\n            message,\n            during_streaming: Boolean(stream_message),\n        });\n        const app = creator().provide('streaming_message_context', data);\n        if (host === 'iframe') {\n            $host.on('load', function () {\n                teleportStyle(this.contentDocument.head);\n                app.mount(this.contentDocument.body);\n            });\n        }\n        else {\n            app.mount($host[0]);\n        }\n        const observer = new MutationObserver(() => {\n            const $edit_textarea = $('#chat').find('#curEditTextarea');\n            if ($edit_textarea.parent().is($mes_text)) {\n                $mes_text.removeClass('hidden!');\n                $host.addClass('hidden!');\n            }\n            else if ($edit_textarea.length === 0) {\n                $mes_text.addClass('hidden!');\n                $message_element.find('.TH-streaming').addClass('hidden!');\n                $host.removeClass('hidden!');\n            }\n        });\n        observer.observe($mes_text[0], { childList: true });\n        states.set(message_id, {\n            app,\n            data,\n            destroy: () => {\n                const $th_streaming = $message_element.find('.TH-streaming');\n                if ($th_streaming.length > 0) {\n                    $th_streaming.removeClass('hidden!');\n                }\n                else {\n                    $mes_text.removeClass('hidden!');\n                }\n                app.unmount();\n                $host.remove();\n                if ($mes_streaming.children().length === 0) {\n                    $mes_streaming.remove();\n                }\n                observer.disconnect();\n                states.delete(message_id);\n            },\n        });\n    };\n    const renderAllMessage = async (options = {}) => {\n        if (has_stoped) {\n            return;\n        }\n        if (options.destroy_all) {\n            states.forEach(({ destroy }) => destroy());\n        }\n        else {\n            destroyAllInvalid();\n        }\n        await Promise.all($('#chat')\n            .children(\".mes[is_user='false'][is_system='false']\")\n            .map(async (_index, node) => {\n            const message_id = Number($(node).attr('mesid') ?? 'NaN');\n            if (!isNaN(message_id)) {\n                await renderOneMessage(message_id);\n                if (options.trigger_event) {\n                    eventEmit(tavern_events.CHARACTER_MESSAGE_RENDERED, message_id, 'rerender');\n                }\n            }\n        }));\n    };\n    const stop_list = [];\n    const scopedEventOn = (event, listener, first) => {\n        stop_list.push(first ? eventMakeFirst(event, errorCatched(listener)).stop : eventOn(event, errorCatched(listener)).stop);\n    };\n    scopedEventOn('chatLoaded', () => {\n        renderAllMessage({ destroy_all: true });\n    });\n    scopedEventOn(tavern_events.CHARACTER_MESSAGE_RENDERED, message_id => {\n        destroyAllInvalid();\n        renderOneMessage(message_id);\n    }, true);\n    [tavern_events.MESSAGE_EDITED, tavern_events.MESSAGE_DELETED].forEach(event => scopedEventOn(event, message_id => {\n        destroyAllInvalid();\n        states.get(message_id)?.destroy();\n        renderOneMessage(message_id);\n    }));\n    [tavern_events.MORE_MESSAGES_LOADED, tavern_events.MESSAGE_DELETED].forEach(event => scopedEventOn(event, () => setTimeout(errorCatched(renderAllMessage), 1000)));\n    scopedEventOn(tavern_events.STREAM_TOKEN_RECEIVED, message => {\n        renderOneMessage(Number($('#chat').children('.mes.last_mes').attr('mesid')), message);\n    });\n    if (host === 'div') {\n        stop_list.push(teleportStyle().destroy);\n    }\n    renderAllMessage({ trigger_event: true });\n    return {\n        unmount: () => {\n            const $th_streaming = $('#chat').find('.TH-streaming');\n            if ($th_streaming.length > 0) {\n                $th_streaming.removeClass('hidden!');\n            }\n            else {\n                $('chat').find('.mes_text').removeClass('hidden!');\n            }\n            states.forEach(({ destroy }) => destroy());\n            stop_list.forEach(stop => stop());\n            has_stoped = true;\n        },\n    };\n}\n","// Module\nvar code = `<!DOCTYPE html> <html> <head> <link rel=\"stylesheet\" href=\"https://testingcf.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css\"> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/gh/n0vi028/JS-Slash-Runner/lib/tailwindcss.min.js\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery-ui/dist/jquery-ui.min.js\">${\"<\" + \"/script\"}> <link rel=\"stylesheet\" href=\"https://testingcf.jsdelivr.net/npm/jquery-ui/themes/base/theme.min.css\"/> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery-ui-touch-punch\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/lodash\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/gh/n0vi028/JS-Slash-Runner/src/iframe/adjust_iframe_height.js\">${\"<\" + \"/script\"}> <style>*,::after,::before{box-sizing:border-box}body,html{margin:0!important;padding:0;overflow:hidden!important;max-width:100%!important}</style> </head> <html> </html></html>`;\n// Exports\nexport default code;","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio, Teleport as _Teleport, createBlock as _createBlock, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = { class: \"definition-studio\" };\nconst _hoisted_2 = { class: \"studio__sidebar-header\" };\nconst _hoisted_3 = {\n    viewBox: \"0 0 24 24\",\n    width: \"18\",\n    height: \"18\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_4 = [\"d\"];\nconst _hoisted_5 = { class: \"studio__sidebar-content\" };\nconst _hoisted_6 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"currentColor\"\n};\nconst _hoisted_7 = [\"d\"];\nconst _hoisted_8 = { class: \"studio__category-count\" };\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"currentColor\"\n};\nconst _hoisted_11 = [\"d\"];\nconst _hoisted_12 = { class: \"studio__category-actions\" };\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_15 = [\"d\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_18 = [\"d\"];\nconst _hoisted_19 = { class: \"studio__main\" };\nconst _hoisted_20 = { class: \"studio__toolbar\" };\nconst _hoisted_21 = { class: \"studio__section-title\" };\nconst _hoisted_22 = { class: \"studio__item-count\" };\nconst _hoisted_23 = { class: \"studio__toolbar-actions\" };\nconst _hoisted_24 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_25 = [\"d\"];\nconst _hoisted_26 = { class: \"studio__items-grid\" };\nconst _hoisted_27 = [\"onClick\"];\nconst _hoisted_28 = { class: \"studio__item-header\" };\nconst _hoisted_29 = { class: \"studio__item-key\" };\nconst _hoisted_30 = { class: \"studio__item-name\" };\nconst _hoisted_31 = { class: \"studio__item-parts\" };\nconst _hoisted_32 = { class: \"studio__item-format\" };\nconst _hoisted_33 = { class: \"studio__item-actions\" };\nconst _hoisted_34 = [\"onClick\"];\nconst _hoisted_35 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_36 = [\"d\"];\nconst _hoisted_37 = {\n    key: 0,\n    class: \"studio__empty\"\n};\nconst _hoisted_38 = {\n    viewBox: \"0 0 24 24\",\n    width: \"48\",\n    height: \"48\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\"\n};\nconst _hoisted_39 = [\"d\"];\nconst _hoisted_40 = { class: \"studio__drawer-header\" };\nconst _hoisted_41 = {\n    viewBox: \"0 0 24 24\",\n    width: \"20\",\n    height: \"20\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_42 = [\"d\"];\nconst _hoisted_43 = { class: \"studio__drawer-content\" };\nconst _hoisted_44 = { class: \"studio__form-group\" };\nconst _hoisted_45 = { class: \"studio__form-group\" };\nconst _hoisted_46 = { class: \"studio__form-group\" };\nconst _hoisted_47 = { class: \"studio__radio-group\" };\nconst _hoisted_48 = { class: \"studio__radio\" };\nconst _hoisted_49 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_50 = [\"d\"];\nconst _hoisted_51 = { class: \"studio__radio\" };\nconst _hoisted_52 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_53 = [\"d\"];\nconst _hoisted_54 = { class: \"studio__form-group\" };\nconst _hoisted_55 = { class: \"studio__drawer-footer\" };\nconst _hoisted_56 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_57 = [\"d\"];\nconst _hoisted_58 = { class: \"studio__drawer-header\" };\nconst _hoisted_59 = {\n    viewBox: \"0 0 24 24\",\n    width: \"20\",\n    height: \"20\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_60 = [\"d\"];\nconst _hoisted_61 = { class: \"studio__drawer-content\" };\nconst _hoisted_62 = { class: \"studio__form-row\" };\nconst _hoisted_63 = { class: \"studio__form-group\" };\nconst _hoisted_64 = { class: \"studio__form-group\" };\nconst _hoisted_65 = { class: \"studio__form-row\" };\nconst _hoisted_66 = { class: \"studio__form-group\" };\nconst _hoisted_67 = [\"value\"];\nconst _hoisted_68 = { class: \"studio__form-group\" };\nconst _hoisted_69 = { class: \"studio__radio-group\" };\nconst _hoisted_70 = { class: \"studio__radio\" };\nconst _hoisted_71 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_72 = [\"d\"];\nconst _hoisted_73 = { class: \"studio__radio\" };\nconst _hoisted_74 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_75 = [\"d\"];\nconst _hoisted_76 = { class: \"studio__form-row\" };\nconst _hoisted_77 = { class: \"studio__form-group studio__form-group--small\" };\nconst _hoisted_78 = {\n    key: 0,\n    class: \"studio__form-group studio__form-group--small\"\n};\nconst _hoisted_79 = { class: \"studio__form-group\" };\nconst _hoisted_80 = { class: \"studio__parts-header\" };\nconst _hoisted_81 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_82 = [\"d\"];\nconst _hoisted_83 = { class: \"studio__parts-list\" };\nconst _hoisted_84 = [\"onUpdate:modelValue\"];\nconst _hoisted_85 = [\"onUpdate:modelValue\"];\nconst _hoisted_86 = [\"onUpdate:modelValue\"];\nconst _hoisted_87 = { class: \"studio__part-actions\" };\nconst _hoisted_88 = [\"disabled\", \"onClick\"];\nconst _hoisted_89 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_90 = [\"d\"];\nconst _hoisted_91 = [\"disabled\", \"onClick\"];\nconst _hoisted_92 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_93 = [\"d\"];\nconst _hoisted_94 = [\"onClick\"];\nconst _hoisted_95 = {\n    viewBox: \"0 0 24 24\",\n    width: \"14\",\n    height: \"14\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_96 = [\"d\"];\nconst _hoisted_97 = { class: \"studio__form-group\" };\nconst _hoisted_98 = { class: \"studio__form-group\" };\nconst _hoisted_99 = { class: \"studio__format-preview\" };\nconst _hoisted_100 = { class: \"studio__drawer-footer\" };\nconst _hoisted_101 = { class: \"studio__btn studio__btn--secondary\" };\nconst _hoisted_102 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_103 = [\"d\"];\nconst _hoisted_104 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_105 = [\"d\"];\nimport { computed, reactive, ref } from 'vue';\n// ==================== 状态 ====================\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'DefinitionStudio',\n    setup(__props) {\n        /**\n         * 定义工坊 (Definition Studio)\n         *\n         * 功能：全局的\"条目字典\"，用于创建和管理所有分类和数据条目的结构和元数据\n         *\n         * 根据开发总纲：\n         * - 分类列表：CRUD 数据类别，设定 shared/character 属性\n         * - 条目列表：按类别分组，提供 CRUD\n         * - 属性编辑器：key, name, category, icon, entry_type, parts, ui_type, separator, etc.\n         */\n        const categories = ref({});\n        const itemDefinitions = ref({});\n        // UI 状态\n        const selectedCategoryKey = ref(null);\n        const isSidebarCollapsed = ref(false);\n        const isEditingCategory = ref(false);\n        const isEditingItem = ref(false);\n        // 编辑表单\n        const categoryForm = reactive({\n            key: '',\n            name: '',\n            icon: 'folder',\n            order: 0,\n            scope: 'character',\n        });\n        const itemForm = reactive({\n            key: '',\n            name: '',\n            icon: '',\n            category: '',\n            entry_type: 'Single',\n            parts: [],\n            separator: '|',\n            secondary_separator: '@',\n            description: '',\n        });\n        // ==================== 计算属性 ====================\n        const sortedCategories = computed(() => Object.values(categories.value).sort((a, b) => a.order - b.order));\n        const filteredItems = computed(() => {\n            const items = Object.values(itemDefinitions.value);\n            if (!selectedCategoryKey.value)\n                return items;\n            return items.filter(item => item.category === selectedCategoryKey.value);\n        });\n        const currentCategory = computed(() => selectedCategoryKey.value ? categories.value[selectedCategoryKey.value] : null);\n        // 自动生成格式字符串\n        const generatedFormat = computed(() => {\n            if (!itemForm.key || !itemForm.category)\n                return '';\n            const cat = categories.value[itemForm.category];\n            const scope = cat?.scope === 'shared' ? 'ST' : '{角色}';\n            const categoryKey = itemForm.category;\n            let valuePart = '';\n            if (itemForm.parts.length === 0) {\n                valuePart = `{${itemForm.key}}`;\n            }\n            else if (itemForm.entry_type === 'Single') {\n                valuePart = itemForm.parts.map(p => `{${p.key}}`).join(itemForm.separator);\n            }\n            else {\n                // List\n                const partTemplate = itemForm.parts.length > 1\n                    ? itemForm.parts.map(p => `{${p.key}}`).join(itemForm.secondary_separator || '@')\n                    : `{${itemForm.parts[0]?.key || 'item'}}`;\n                valuePart = `${partTemplate}${itemForm.separator}...`;\n            }\n            return `[${scope}^${categoryKey}|${itemForm.key}::${valuePart}]`;\n        });\n        // ==================== 分类操作 ====================\n        function openNewCategory() {\n            Object.assign(categoryForm, {\n                key: '',\n                name: '',\n                icon: 'folder',\n                order: sortedCategories.value.length,\n                scope: 'character',\n            });\n            isEditingCategory.value = true;\n        }\n        function editCategory(cat) {\n            Object.assign(categoryForm, { ...cat });\n            isEditingCategory.value = true;\n        }\n        function saveCategory() {\n            if (!categoryForm.key.trim() || !categoryForm.name.trim())\n                return;\n            categories.value[categoryForm.key] = { ...categoryForm };\n            isEditingCategory.value = false;\n        }\n        function deleteCategory(key) {\n            if (confirm(`确定删除分类 \"${categories.value[key]?.name}\"？\\n注意：不会删除属于该分类的条目定义。`)) {\n                delete categories.value[key];\n                if (selectedCategoryKey.value === key) {\n                    selectedCategoryKey.value = null;\n                }\n            }\n        }\n        // ==================== 条目操作 ====================\n        function openNewItem() {\n            Object.assign(itemForm, {\n                key: '',\n                name: '',\n                icon: '',\n                category: selectedCategoryKey.value || '',\n                entry_type: 'Single',\n                parts: [{ key: 'value', label: '值', data_type: 'string' }],\n                separator: '|',\n                secondary_separator: '@',\n                description: '',\n            });\n            isEditingItem.value = true;\n        }\n        function editItem(item) {\n            Object.assign(itemForm, {\n                ...item,\n                parts: item.parts.map(p => ({ ...p })),\n            });\n            isEditingItem.value = true;\n        }\n        function saveItem() {\n            if (!itemForm.key.trim() || !itemForm.name.trim())\n                return;\n            // 更新 format\n            itemForm.format = generatedFormat.value;\n            itemDefinitions.value[itemForm.key] = {\n                ...itemForm,\n                parts: itemForm.parts.map(p => ({ ...p })),\n            };\n            isEditingItem.value = false;\n        }\n        function deleteItem(key) {\n            if (confirm(`确定删除条目定义 \"${itemDefinitions.value[key]?.name}\"？`)) {\n                delete itemDefinitions.value[key];\n            }\n        }\n        // ==================== Parts 操作 ====================\n        function addPart() {\n            itemForm.parts.push({\n                key: '',\n                label: '',\n                data_type: 'string',\n            });\n        }\n        function removePart(index) {\n            itemForm.parts.splice(index, 1);\n        }\n        function movePart(index, direction) {\n            const newIndex = index + direction;\n            if (newIndex < 0 || newIndex >= itemForm.parts.length)\n                return;\n            const temp = itemForm.parts[index];\n            itemForm.parts[index] = itemForm.parts[newIndex];\n            itemForm.parts[newIndex] = temp;\n        }\n        // ==================== 图标 ====================\n        const iconPaths = {\n            folder: 'M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z',\n            plus: 'M12 5v14M5 12h14',\n            edit: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z',\n            trash: 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2',\n            save: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8',\n            x: 'M18 6L6 18M6 6l12 12',\n            chevronUp: 'M18 15l-6-6-6 6',\n            chevronDown: 'M6 9l6 6 6-6',\n            database: 'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4z',\n            box: 'M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z',\n            list: 'M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01',\n            singleUser: 'M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z',\n            users: 'M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z',\n            upload: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12',\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" 左侧分类列表 \"),\n                _createElementVNode(\"aside\", {\n                    class: _normalizeClass([\"studio__sidebar\", { 'studio__sidebar--collapsed': isSidebarCollapsed.value }])\n                }, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _cache[22] || (_cache[22] = _createElementVNode(\"span\", { class: \"studio__sidebar-title\" }, \"分类列表\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            class: \"studio__icon-btn\",\n                            title: \"新建分类\",\n                            onClick: openNewCategory\n                        }, [\n                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, [\n                                _createElementVNode(\"path\", {\n                                    d: iconPaths.plus\n                                }, null, 8 /* PROPS */, _hoisted_4)\n                            ]))\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _createCommentVNode(\" 全部 \"),\n                        _createElementVNode(\"button\", {\n                            class: _normalizeClass([\"studio__category-item\", { 'studio__category-item--active': selectedCategoryKey.value === null }]),\n                            onClick: _cache[0] || (_cache[0] = ($event) => (selectedCategoryKey.value = null))\n                        }, [\n                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_6, [\n                                _createElementVNode(\"path\", {\n                                    d: iconPaths.database\n                                }, null, 8 /* PROPS */, _hoisted_7)\n                            ])),\n                            _cache[23] || (_cache[23] = _createElementVNode(\"span\", null, \"全部条目\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_8, _toDisplayString(Object.keys(itemDefinitions.value).length), 1 /* TEXT */)\n                        ], 2 /* CLASS */),\n                        _createCommentVNode(\" 分类列表 \"),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sortedCategories.value, (cat) => {\n                            return (_openBlock(), _createElementBlock(\"button\", {\n                                key: cat.key,\n                                class: _normalizeClass([\"studio__category-item\", { 'studio__category-item--active': selectedCategoryKey.value === cat.key }]),\n                                onClick: ($event) => (selectedCategoryKey.value = cat.key)\n                            }, [\n                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_10, [\n                                    _createElementVNode(\"path\", {\n                                        d: iconPaths.folder\n                                    }, null, 8 /* PROPS */, _hoisted_11)\n                                ])),\n                                _createElementVNode(\"span\", null, _toDisplayString(cat.name), 1 /* TEXT */),\n                                _createElementVNode(\"span\", {\n                                    class: _normalizeClass([\"studio__category-badge\", cat.scope === 'shared' ? 'studio__category-badge--shared' : ''])\n                                }, _toDisplayString(cat.scope === 'shared' ? '共享' : '角色'), 3 /* TEXT, CLASS */),\n                                _createElementVNode(\"div\", _hoisted_12, [\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__mini-btn\",\n                                        title: \"编辑\",\n                                        onClick: _withModifiers(($event) => (editCategory(cat)), [\"stop\"])\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_14, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.edit\n                                            }, null, 8 /* PROPS */, _hoisted_15)\n                                        ]))\n                                    ], 8 /* PROPS */, _hoisted_13),\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__mini-btn studio__mini-btn--danger\",\n                                        title: \"删除\",\n                                        onClick: _withModifiers(($event) => (deleteCategory(cat.key)), [\"stop\"])\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_17, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.trash\n                                            }, null, 8 /* PROPS */, _hoisted_18)\n                                        ]))\n                                    ], 8 /* PROPS */, _hoisted_16)\n                                ])\n                            ], 10 /* CLASS, PROPS */, _hoisted_9));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ])\n                ], 2 /* CLASS */),\n                _createCommentVNode(\" 主内容区 \"),\n                _createElementVNode(\"main\", _hoisted_19, [\n                    _createCommentVNode(\" 工具栏 \"),\n                    _createElementVNode(\"div\", _hoisted_20, [\n                        _createElementVNode(\"h2\", _hoisted_21, [\n                            _createTextVNode(_toDisplayString(currentCategory.value ? currentCategory.value.name : '全部条目') + \" \", 1 /* TEXT */),\n                            _createElementVNode(\"span\", _hoisted_22, \"(\" + _toDisplayString(filteredItems.value.length) + \" 项)\", 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_23, [\n                            _createElementVNode(\"button\", {\n                                class: \"studio__btn studio__btn--primary\",\n                                onClick: openNewItem\n                            }, [\n                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_24, [\n                                    _createElementVNode(\"path\", {\n                                        d: iconPaths.plus\n                                    }, null, 8 /* PROPS */, _hoisted_25)\n                                ])),\n                                _cache[24] || (_cache[24] = _createTextVNode(\" 新建条目 \", -1 /* CACHED */))\n                            ])\n                        ])\n                    ]),\n                    _createCommentVNode(\" 条目列表 \"),\n                    _createElementVNode(\"div\", _hoisted_26, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredItems.value, (item) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                key: item.key,\n                                class: \"studio__item-card\",\n                                onClick: ($event) => (editItem(item))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_28, [\n                                    _createElementVNode(\"span\", _hoisted_29, _toDisplayString(item.key), 1 /* TEXT */),\n                                    _createElementVNode(\"span\", {\n                                        class: _normalizeClass([\"studio__item-type\", item.entry_type === 'List' ? 'studio__item-type--list' : ''])\n                                    }, _toDisplayString(item.entry_type), 3 /* TEXT, CLASS */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_30, _toDisplayString(item.name), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_31, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.parts, (part) => {\n                                        return (_openBlock(), _createElementBlock(\"span\", {\n                                            key: part.key,\n                                            class: \"studio__part-tag\"\n                                        }, _toDisplayString(part.label), 1 /* TEXT */));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_32, _toDisplayString(item.format), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_33, [\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__mini-btn studio__mini-btn--danger\",\n                                        title: \"删除\",\n                                        onClick: _withModifiers(($event) => (deleteItem(item.key)), [\"stop\"])\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_35, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.trash\n                                            }, null, 8 /* PROPS */, _hoisted_36)\n                                        ]))\n                                    ], 8 /* PROPS */, _hoisted_34)\n                                ])\n                            ], 8 /* PROPS */, _hoisted_27));\n                        }), 128 /* KEYED_FRAGMENT */)),\n                        _createCommentVNode(\" 空状态 \"),\n                        (filteredItems.value.length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [\n                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_38, [\n                                    _createElementVNode(\"path\", {\n                                        d: iconPaths.box\n                                    }, null, 8 /* PROPS */, _hoisted_39)\n                                ])),\n                                _cache[25] || (_cache[25] = _createElementVNode(\"p\", null, \"暂无条目定义\", -1 /* CACHED */)),\n                                _createElementVNode(\"button\", {\n                                    class: \"studio__btn studio__btn--primary\",\n                                    onClick: openNewItem\n                                }, \"创建第一个条目\")\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ])\n                ]),\n                _createCommentVNode(\" 分类编辑抽屉 \"),\n                (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                    (isEditingCategory.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"studio__drawer-overlay\",\n                            onClick: _cache[9] || (_cache[9] = ($event) => (isEditingCategory.value = false))\n                        }, [\n                            _createElementVNode(\"div\", {\n                                class: \"studio__drawer\",\n                                onClick: _cache[8] || (_cache[8] = _withModifiers(() => { }, [\"stop\"]))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_40, [\n                                    _createElementVNode(\"h3\", null, _toDisplayString(categoryForm.key ? '编辑分类' : '新建分类'), 1 /* TEXT */),\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__icon-btn\",\n                                        onClick: _cache[1] || (_cache[1] = ($event) => (isEditingCategory.value = false))\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_41, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.x\n                                            }, null, 8 /* PROPS */, _hoisted_42)\n                                        ]))\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_43, [\n                                    _createElementVNode(\"div\", _hoisted_44, [\n                                        _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"唯一键 (Key)\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((categoryForm.key) = $event)),\n                                            type: \"text\",\n                                            placeholder: \"如: CV, CP\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, categoryForm.key]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_45, [\n                                        _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"显示名称\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((categoryForm.name) = $event)),\n                                            type: \"text\",\n                                            placeholder: \"如: 角色属性\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, categoryForm.name]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_46, [\n                                        _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"作用域\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_47, [\n                                            _createElementVNode(\"label\", _hoisted_48, [\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => ((categoryForm.scope) = $event)),\n                                                    type: \"radio\",\n                                                    value: \"character\"\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelRadio, categoryForm.scope]\n                                                ]),\n                                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_49, [\n                                                    _createElementVNode(\"path\", {\n                                                        d: iconPaths.singleUser\n                                                    }, null, 8 /* PROPS */, _hoisted_50)\n                                                ])),\n                                                _cache[28] || (_cache[28] = _createTextVNode(\" 角色数据 \", -1 /* CACHED */))\n                                            ]),\n                                            _createElementVNode(\"label\", _hoisted_51, [\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((categoryForm.scope) = $event)),\n                                                    type: \"radio\",\n                                                    value: \"shared\"\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelRadio, categoryForm.scope]\n                                                ]),\n                                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_52, [\n                                                    _createElementVNode(\"path\", {\n                                                        d: iconPaths.users\n                                                    }, null, 8 /* PROPS */, _hoisted_53)\n                                                ])),\n                                                _cache[29] || (_cache[29] = _createTextVNode(\" 共享数据 \", -1 /* CACHED */))\n                                            ])\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_54, [\n                                        _cache[31] || (_cache[31] = _createElementVNode(\"label\", null, \"排序权重\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((categoryForm.order) = $event)),\n                                            type: \"number\",\n                                            min: \"0\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [\n                                                _vModelText,\n                                                categoryForm.order,\n                                                void 0,\n                                                { number: true }\n                                            ]\n                                        ])\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_55, [\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__btn\",\n                                        onClick: _cache[7] || (_cache[7] = ($event) => (isEditingCategory.value = false))\n                                    }, \"取消\"),\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__btn studio__btn--primary\",\n                                        onClick: saveCategory\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_56, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.save\n                                            }, null, 8 /* PROPS */, _hoisted_57)\n                                        ])),\n                                        _cache[32] || (_cache[32] = _createTextVNode(\" 保存 \", -1 /* CACHED */))\n                                    ])\n                                ])\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ])),\n                _createCommentVNode(\" 条目编辑抽屉 \"),\n                (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                    (isEditingItem.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"studio__drawer-overlay\",\n                            onClick: _cache[21] || (_cache[21] = ($event) => (isEditingItem.value = false))\n                        }, [\n                            _createElementVNode(\"div\", {\n                                class: \"studio__drawer studio__drawer--wide\",\n                                onClick: _cache[20] || (_cache[20] = _withModifiers(() => { }, [\"stop\"]))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_58, [\n                                    _createElementVNode(\"h3\", null, _toDisplayString(itemForm.key ? '编辑条目' : '新建条目'), 1 /* TEXT */),\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__icon-btn\",\n                                        onClick: _cache[10] || (_cache[10] = ($event) => (isEditingItem.value = false))\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_59, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.x\n                                            }, null, 8 /* PROPS */, _hoisted_60)\n                                        ]))\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_61, [\n                                    _createCommentVNode(\" 基础信息 \"),\n                                    _createElementVNode(\"div\", _hoisted_62, [\n                                        _createElementVNode(\"div\", _hoisted_63, [\n                                            _cache[33] || (_cache[33] = _createElementVNode(\"label\", null, \"唯一键 (Key) *\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"input\", {\n                                                \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((itemForm.key) = $event)),\n                                                type: \"text\",\n                                                placeholder: \"如: HP, 背包\"\n                                            }, null, 512 /* NEED_PATCH */), [\n                                                [_vModelText, itemForm.key]\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_64, [\n                                            _cache[34] || (_cache[34] = _createElementVNode(\"label\", null, \"显示名称 *\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"input\", {\n                                                \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => ((itemForm.name) = $event)),\n                                                type: \"text\",\n                                                placeholder: \"如: 生命值\"\n                                            }, null, 512 /* NEED_PATCH */), [\n                                                [_vModelText, itemForm.name]\n                                            ])\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_65, [\n                                        _createElementVNode(\"div\", _hoisted_66, [\n                                            _cache[36] || (_cache[36] = _createElementVNode(\"label\", null, \"所属分类\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"select\", {\n                                                \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => ((itemForm.category) = $event))\n                                            }, [\n                                                _cache[35] || (_cache[35] = _createElementVNode(\"option\", { value: \"\" }, \"-- 选择分类 --\", -1 /* CACHED */)),\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sortedCategories.value, (cat) => {\n                                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                                        key: cat.key,\n                                                        value: cat.key\n                                                    }, _toDisplayString(cat.name) + \" (\" + _toDisplayString(cat.key) + \") \", 9 /* TEXT, PROPS */, _hoisted_67));\n                                                }), 128 /* KEYED_FRAGMENT */))\n                                            ], 512 /* NEED_PATCH */), [\n                                                [_vModelSelect, itemForm.category]\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_68, [\n                                            _cache[39] || (_cache[39] = _createElementVNode(\"label\", null, \"条目类型 (entry_type)\", -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_69, [\n                                                _createElementVNode(\"label\", _hoisted_70, [\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event) => ((itemForm.entry_type) = $event)),\n                                                        type: \"radio\",\n                                                        value: \"Single\"\n                                                    }, null, 512 /* NEED_PATCH */), [\n                                                        [_vModelRadio, itemForm.entry_type]\n                                                    ]),\n                                                    (_openBlock(), _createElementBlock(\"svg\", _hoisted_71, [\n                                                        _createElementVNode(\"path\", {\n                                                            d: iconPaths.box\n                                                        }, null, 8 /* PROPS */, _hoisted_72)\n                                                    ])),\n                                                    _cache[37] || (_cache[37] = _createTextVNode(\" 单体 (Single) \", -1 /* CACHED */))\n                                                ]),\n                                                _createElementVNode(\"label\", _hoisted_73, [\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event) => ((itemForm.entry_type) = $event)),\n                                                        type: \"radio\",\n                                                        value: \"List\"\n                                                    }, null, 512 /* NEED_PATCH */), [\n                                                        [_vModelRadio, itemForm.entry_type]\n                                                    ]),\n                                                    (_openBlock(), _createElementBlock(\"svg\", _hoisted_74, [\n                                                        _createElementVNode(\"path\", {\n                                                            d: iconPaths.list\n                                                        }, null, 8 /* PROPS */, _hoisted_75)\n                                                    ])),\n                                                    _cache[38] || (_cache[38] = _createTextVNode(\" 列表 (List) \", -1 /* CACHED */))\n                                                ])\n                                            ])\n                                        ])\n                                    ]),\n                                    _createCommentVNode(\" 分隔符 \"),\n                                    _createElementVNode(\"div\", _hoisted_76, [\n                                        _createElementVNode(\"div\", _hoisted_77, [\n                                            _cache[40] || (_cache[40] = _createElementVNode(\"label\", null, \"主分隔符\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"input\", {\n                                                \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event) => ((itemForm.separator) = $event)),\n                                                type: \"text\",\n                                                placeholder: \"|\"\n                                            }, null, 512 /* NEED_PATCH */), [\n                                                [_vModelText, itemForm.separator]\n                                            ])\n                                        ]),\n                                        (itemForm.entry_type === 'List')\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_78, [\n                                                _cache[41] || (_cache[41] = _createElementVNode(\"label\", null, \"次分隔符\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event) => ((itemForm.secondary_separator) = $event)),\n                                                    type: \"text\",\n                                                    placeholder: \"@\"\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, itemForm.secondary_separator]\n                                                ])\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ]),\n                                    _createCommentVNode(\" Parts 结构定义 \"),\n                                    _createElementVNode(\"div\", _hoisted_79, [\n                                        _createElementVNode(\"div\", _hoisted_80, [\n                                            _cache[43] || (_cache[43] = _createElementVNode(\"label\", null, \"结构定义 (Parts)\", -1 /* CACHED */)),\n                                            _createElementVNode(\"button\", {\n                                                class: \"studio__btn studio__btn--small\",\n                                                onClick: addPart\n                                            }, [\n                                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_81, [\n                                                    _createElementVNode(\"path\", {\n                                                        d: iconPaths.plus\n                                                    }, null, 8 /* PROPS */, _hoisted_82)\n                                                ])),\n                                                _cache[42] || (_cache[42] = _createTextVNode(\" 添加 \", -1 /* CACHED */))\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_83, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(itemForm.parts, (part, index) => {\n                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                    key: index,\n                                                    class: \"studio__part-row\"\n                                                }, [\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        \"onUpdate:modelValue\": ($event) => ((part.key) = $event),\n                                                        type: \"text\",\n                                                        placeholder: \"key\",\n                                                        class: \"studio__part-input\"\n                                                    }, null, 8 /* PROPS */, _hoisted_84), [\n                                                        [_vModelText, part.key]\n                                                    ]),\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        \"onUpdate:modelValue\": ($event) => ((part.label) = $event),\n                                                        type: \"text\",\n                                                        placeholder: \"标签\",\n                                                        class: \"studio__part-input\"\n                                                    }, null, 8 /* PROPS */, _hoisted_85), [\n                                                        [_vModelText, part.label]\n                                                    ]),\n                                                    _withDirectives(_createElementVNode(\"select\", {\n                                                        \"onUpdate:modelValue\": ($event) => ((part.data_type) = $event),\n                                                        class: \"studio__part-select\"\n                                                    }, [...(_cache[44] || (_cache[44] = [\n                                                            _createElementVNode(\"option\", { value: \"string\" }, \"文本\", -1 /* CACHED */),\n                                                            _createElementVNode(\"option\", { value: \"number\" }, \"数字\", -1 /* CACHED */),\n                                                            _createElementVNode(\"option\", { value: \"boolean\" }, \"布尔\", -1 /* CACHED */)\n                                                        ]))], 8 /* PROPS */, _hoisted_86), [\n                                                        [_vModelSelect, part.data_type]\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_87, [\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"studio__mini-btn\",\n                                                            disabled: index === 0,\n                                                            onClick: ($event) => (movePart(index, -1))\n                                                        }, [\n                                                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_89, [\n                                                                _createElementVNode(\"path\", {\n                                                                    d: iconPaths.chevronUp\n                                                                }, null, 8 /* PROPS */, _hoisted_90)\n                                                            ]))\n                                                        ], 8 /* PROPS */, _hoisted_88),\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"studio__mini-btn\",\n                                                            disabled: index === itemForm.parts.length - 1,\n                                                            onClick: ($event) => (movePart(index, 1))\n                                                        }, [\n                                                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_92, [\n                                                                _createElementVNode(\"path\", {\n                                                                    d: iconPaths.chevronDown\n                                                                }, null, 8 /* PROPS */, _hoisted_93)\n                                                            ]))\n                                                        ], 8 /* PROPS */, _hoisted_91),\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"studio__mini-btn studio__mini-btn--danger\",\n                                                            onClick: ($event) => (removePart(index))\n                                                        }, [\n                                                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_95, [\n                                                                _createElementVNode(\"path\", {\n                                                                    d: iconPaths.trash\n                                                                }, null, 8 /* PROPS */, _hoisted_96)\n                                                            ]))\n                                                        ], 8 /* PROPS */, _hoisted_94)\n                                                    ])\n                                                ]));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ])\n                                    ]),\n                                    _createCommentVNode(\" AI 描述 \"),\n                                    _createElementVNode(\"div\", _hoisted_97, [\n                                        _cache[45] || (_cache[45] = _createElementVNode(\"label\", null, \"AI 描述\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                            \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event) => ((itemForm.description) = $event)),\n                                            rows: \"3\",\n                                            placeholder: \"给 AI 的说明，如：简述角色当前的生命状态\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, itemForm.description]\n                                        ])\n                                    ]),\n                                    _createCommentVNode(\" 自动生成的格式 \"),\n                                    _createElementVNode(\"div\", _hoisted_98, [\n                                        _cache[46] || (_cache[46] = _createElementVNode(\"label\", null, \"自动生成格式 (format)\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_99, _toDisplayString(generatedFormat.value), 1 /* TEXT */)\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_100, [\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__btn\",\n                                        onClick: _cache[19] || (_cache[19] = ($event) => (isEditingItem.value = false))\n                                    }, \"取消\"),\n                                    _createElementVNode(\"button\", _hoisted_101, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_102, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.upload\n                                            }, null, 8 /* PROPS */, _hoisted_103)\n                                        ])),\n                                        _cache[47] || (_cache[47] = _createTextVNode(\" 注入世界书 \", -1 /* CACHED */))\n                                    ]),\n                                    _createElementVNode(\"button\", {\n                                        class: \"studio__btn studio__btn--primary\",\n                                        onClick: saveItem\n                                    }, [\n                                        (_openBlock(), _createElementBlock(\"svg\", _hoisted_104, [\n                                            _createElementVNode(\"path\", {\n                                                d: iconPaths.save\n                                            }, null, 8 /* PROPS */, _hoisted_105)\n                                        ])),\n                                        _cache[48] || (_cache[48] = _createTextVNode(\" 保存 \", -1 /* CACHED */))\n                                    ])\n                                ])\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./DefinitionStudio.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DefinitionStudio.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DefinitionStudio.vue?vue&type=style&index=0&id=06c478c0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06c478c0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = { class: \"manager__nav\" };\nconst _hoisted_2 = [\"title\", \"onClick\"];\nconst _hoisted_3 = {\n    class: \"manager__nav-icon\",\n    viewBox: \"0 0 24 24\",\n    width: \"22\",\n    height: \"22\"\n};\nconst _hoisted_4 = [\"d\"];\nconst _hoisted_5 = { class: \"manager__main\" };\nconst _hoisted_6 = { class: \"manager__header\" };\nconst _hoisted_7 = { class: \"manager__title-group\" };\nconst _hoisted_8 = { class: \"manager__title\" };\nconst _hoisted_9 = { class: \"manager__subtitle\" };\nconst _hoisted_10 = { class: \"manager__actions\" };\nconst _hoisted_11 = {\n    class: \"manager__btn manager__btn--primary\",\n    type: \"button\"\n};\nconst _hoisted_12 = {\n    viewBox: \"0 0 24 24\",\n    width: \"16\",\n    height: \"16\"\n};\nconst _hoisted_13 = [\"d\"];\nconst _hoisted_14 = {\n    viewBox: \"0 0 24 24\",\n    width: \"20\",\n    height: \"20\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_15 = [\"d\"];\nconst _hoisted_16 = { class: \"manager__content\" };\nconst _hoisted_17 = { class: \"manager__placeholder\" };\nconst _hoisted_18 = {\n    class: \"manager__placeholder-icon\",\n    viewBox: \"0 0 24 24\",\n    width: \"64\",\n    height: \"64\"\n};\nconst _hoisted_19 = [\"d\"];\nimport { computed, ref } from 'vue';\nimport DefinitionStudio from './modules/DefinitionStudio.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ManagerModal',\n    setup(__props) {\n        /**\n         * 管理器模态框 - 左侧导航布局版本\n         *\n         * 基于 AIStudioAPP 版 UI 参考的设计系统\n         * 左侧图标导航栏 + 主内容区\n         */\n        const activeModule = ref('data');\n        const modules = [\n            { key: 'data', name: '数据中心', icon: 'database', desc: '管理角色状态数据' },\n            { key: 'definitions', name: '定义工坊', icon: 'box', desc: '定义数据结构与元数据' },\n            { key: 'styles', name: '样式工坊', icon: 'paintbrush', desc: '创建可复用样式单元' },\n            { key: 'layout', name: '布局编排', icon: 'layout', desc: '可视化设计状态栏布局' },\n            { key: 'config', name: '系统配置', icon: 'settings', desc: '预设、快照与系统设置' },\n        ];\n        const currentModule = computed(() => modules.find(m => m.key === activeModule.value));\n        // SVG 图标路径 (Lucide Icons 风格)\n        const iconPaths = {\n            // Database - 数据中心\n            database: 'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4zm8 12c0 2.21-3.58 4-8 4s-8-1.79-8-4v-2.18c1.86 1.38 4.78 2.18 8 2.18s6.14-.8 8-2.18V16z',\n            // Box - 定义工坊\n            box: 'M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.36.2-.74.18-1.14 0l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.36-.2.74-.18 1.14 0l7.9 4.44c.32.17.53.5.53.88v9zM12 4.15 5.04 8 12 11.85 18.96 8 12 4.15z',\n            // Paintbrush - 样式工坊\n            paintbrush: 'M20.71 4.63l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41zM7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3z',\n            // Layout - 布局编排\n            layout: 'M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 7h4v4H7V7zm6 0h4v4h-4V7zM7 13h4v4H7v-4zm6 0h4v4h-4v-4z',\n            // Settings - 系统配置\n            settings: 'M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z',\n            // Close\n            close: 'M18 6L6 18M6 6l12 12',\n            // Save\n            save: 'M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z',\n        };\n        function handleClose() {\n            // 事件需要发送到主窗口（Vue 组件虽然挂载在主窗口 DOM，但脚本运行在 iframe 中）\n            const targetDocument = (window.parent ?? window).document;\n            const event = new CustomEvent('th:manager-close');\n            targetDocument.documentElement.dispatchEvent(event);\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"manager\",\n                onClick: _cache[0] || (_cache[0] = _withModifiers(() => { }, [\"stop\"]))\n            }, [\n                _createCommentVNode(\" 左侧图标导航栏 \"),\n                _createElementVNode(\"nav\", _hoisted_1, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(modules, (mod) => {\n                        return _createElementVNode(\"button\", {\n                            key: mod.key,\n                            type: \"button\",\n                            class: _normalizeClass([\"manager__nav-item\", { 'manager__nav-item--active': activeModule.value === mod.key }]),\n                            title: mod.name,\n                            onClick: ($event) => (activeModule.value = mod.key)\n                        }, [\n                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, [\n                                _createElementVNode(\"path\", {\n                                    d: iconPaths[mod.icon],\n                                    fill: \"currentColor\"\n                                }, null, 8 /* PROPS */, _hoisted_4)\n                            ]))\n                        ], 10 /* CLASS, PROPS */, _hoisted_2);\n                    }), 64 /* STABLE_FRAGMENT */))\n                ]),\n                _createCommentVNode(\" 主内容区 \"),\n                _createElementVNode(\"div\", _hoisted_5, [\n                    _createCommentVNode(\" 顶部标题栏 \"),\n                    _createElementVNode(\"header\", _hoisted_6, [\n                        _createElementVNode(\"div\", _hoisted_7, [\n                            _createElementVNode(\"h1\", _hoisted_8, _toDisplayString(currentModule.value?.name), 1 /* TEXT */),\n                            _createElementVNode(\"p\", _hoisted_9, _toDisplayString(currentModule.value?.desc), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_10, [\n                            _createElementVNode(\"button\", _hoisted_11, [\n                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_12, [\n                                    _createElementVNode(\"path\", {\n                                        d: iconPaths.save,\n                                        fill: \"currentColor\"\n                                    }, null, 8 /* PROPS */, _hoisted_13)\n                                ])),\n                                _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"保存\", -1 /* CACHED */))\n                            ]),\n                            _createElementVNode(\"button\", {\n                                class: \"manager__btn manager__btn--close\",\n                                type: \"button\",\n                                onClick: handleClose\n                            }, [\n                                (_openBlock(), _createElementBlock(\"svg\", _hoisted_14, [\n                                    _createElementVNode(\"path\", {\n                                        d: iconPaths.close\n                                    }, null, 8 /* PROPS */, _hoisted_15)\n                                ]))\n                            ])\n                        ])\n                    ]),\n                    _createCommentVNode(\" 模块内容区 \"),\n                    _createElementVNode(\"main\", _hoisted_16, [\n                        _createCommentVNode(\" 定义工坊 \"),\n                        (activeModule.value === 'definitions')\n                            ? (_openBlock(), _createBlock(DefinitionStudio, { key: 0 }))\n                            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                _createCommentVNode(\" 占位符 (其他模块开发中) \"),\n                                _createElementVNode(\"div\", _hoisted_17, [\n                                    (_openBlock(), _createElementBlock(\"svg\", _hoisted_18, [\n                                        _createElementVNode(\"path\", {\n                                            d: iconPaths[currentModule.value?.icon || 'database'],\n                                            fill: \"currentColor\"\n                                        }, null, 8 /* PROPS */, _hoisted_19)\n                                    ])),\n                                    _createElementVNode(\"h2\", null, _toDisplayString(currentModule.value?.name), 1 /* TEXT */),\n                                    _cache[2] || (_cache[2] = _createElementVNode(\"p\", { class: \"manager__placeholder-text\" }, \"此模块正在开发中...\", -1 /* CACHED */)),\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"p\", { class: \"manager__placeholder-hint\" }, \"框架已成功加载！后续将逐步完善各项功能\", -1 /* CACHED */))\n                                ])\n                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                    ]),\n                    _createCommentVNode(\" 底部状态栏 \"),\n                    _cache[4] || (_cache[4] = _createElementVNode(\"footer\", { class: \"manager__footer\" }, [\n                        _createElementVNode(\"span\", null, \"通用状态栏框架 v0.1.0\"),\n                        _createElementVNode(\"span\", { class: \"manager__footer-status\" }, \"浅色模式 · 开发中\")\n                    ], -1 /* CACHED */))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ManagerModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ManagerModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ManagerModal.vue?vue&type=style&index=0&id=c6c4011c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c6c4011c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"status-bar\" };\nconst _hoisted_2 = { class: \"status-bar__header\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"status-bar__streaming\"\n};\nimport { injectStreamingMessageContext } from '@util/streaming';\nconst databaseIcon = 'M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4zm8 12c0 2.21-3.58 4-8 4s-8-1.79-8-4v-2.18c1.86 1.38 4.78 2.18 8 2.18s6.14-.8 8-2.18V16z';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'StatusBar',\n    setup(__props) {\n        /**\n         * 状态栏组件 - 浅色模式版本\n         * 显示在每个 AI 消息楼层下方\n         */\n        const ctx = injectStreamingMessageContext();\n        // SVG 图标路径\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"svg\", {\n                        class: \"status-bar__icon\",\n                        viewBox: \"0 0 24 24\",\n                        width: \"18\",\n                        height: \"18\"\n                    }, [\n                        _createElementVNode(\"path\", {\n                            d: databaseIcon,\n                            fill: \"currentColor\"\n                        })\n                    ]),\n                    _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"status-bar__title\" }, \"通用状态栏\", -1 /* CACHED */)),\n                    (_unref(ctx).during_streaming)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"生成中...\"))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"status-bar__content\" }, [\n                    _createElementVNode(\"div\", { class: \"status-bar__placeholder\" }, [\n                        _createElementVNode(\"span\", null, \"暂无状态数据\"),\n                        _createElementVNode(\"span\", { class: \"status-bar__hint\" }, \"点击扩展菜单中的「通用状态栏管理器」添加定义\")\n                    ])\n                ], -1 /* CACHED */))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./StatusBar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StatusBar.vue?vue&type=style&index=0&id=0aa8f2f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_950b954033f7ef31b6c40554a1f5a482/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0aa8f2f0\"]])\n\nexport default __exports__","/**\n * 通用状态栏框架 - 入口文件\n *\n * 这是一个\"定义驱动\"的状态栏框架，所有行为都由用户配置的定义决定\n *\n * 架构：\n * - Manager（管理器）：主窗口 overlay，用于编辑定义、样式、布局\n * - StatusBar（状态栏）：iframe 内显示，确保样式隔离\n */\nimport { teleportStyle } from '@util/script';\nimport { mountStreamingMessages } from '@util/streaming';\n// Vue 组件\nimport ManagerModal from '@/通用状态栏框架/components/manager/ManagerModal.vue';\nimport StatusBar from '@/通用状态栏框架/components/statusbar/StatusBar.vue';\n// ============================================================================\n// 常量\n// ============================================================================\nconst MANAGER_BUTTON_NAME = '通用状态栏管理器';\nconst MANAGER_CONTAINER_ID = 'th-statusbar-manager-container';\nconst OWNER_KEY = '__th_statusbar_owner__';\n// ============================================================================\n// 单例所有权管理（防止多个脚本实例同时运行）\n// ============================================================================\nconst pageWindow = window.parent ?? window;\nfunction createId() {\n    return crypto?.randomUUID?.() ?? `${Date.now()}-${Math.random().toString(36).slice(2)}`;\n}\nfunction getOwner() {\n    return pageWindow[OWNER_KEY] ?? null;\n}\nfunction setOwner(record) {\n    pageWindow[OWNER_KEY] = record;\n}\nfunction clearOwner() {\n    delete pageWindow[OWNER_KEY];\n}\n// ============================================================================\n// 管理器 UI（主窗口 overlay）\n// ============================================================================\nlet $managerContainer = null;\nlet managerApp = null;\nlet managerStyleCleanup = null;\n/**\n * 创建管理器容器\n */\nfunction createManagerContainer() {\n    const $existing = pageWindow.document.querySelector(`#${MANAGER_CONTAINER_ID}`);\n    if ($existing) {\n        $existing.remove();\n    }\n    const $container = $(pageWindow.document.createElement('div'))\n        .attr('id', MANAGER_CONTAINER_ID)\n        .css({\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        zIndex: 99999,\n        display: 'none',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        alignItems: 'center',\n        justifyContent: 'center',\n    })\n        .appendTo(pageWindow.document.body);\n    // 监听管理器关闭事件\n    pageWindow.document.documentElement.addEventListener('th:manager-close', hideManager);\n    return $container;\n}\n/**\n * 显示管理器\n */\nasync function showManager() {\n    if (!$managerContainer)\n        return;\n    $managerContainer.css('display', 'flex');\n    // 如果还没挂载 Vue 应用，现在挂载\n    if (!managerApp) {\n        // 把样式从脚本 iframe 复制到主窗口\n        // teleportStyle 默认复制当前 document 的 head > style 到目标\n        // 这里的目标是主窗口的 head\n        managerStyleCleanup = teleportStyle($(pageWindow.document.head)).destroy;\n        const $mountPoint = $('<div>').appendTo($managerContainer);\n        managerApp = createApp(ManagerModal);\n        managerApp.mount($mountPoint[0]);\n    }\n    console.log('[状态栏] 管理器已打开');\n}\n/**\n * 隐藏管理器\n */\nfunction hideManager() {\n    if (!$managerContainer)\n        return;\n    $managerContainer.css('display', 'none');\n    console.log('[状态栏] 管理器已关闭');\n}\n/**\n * 切换管理器显示状态\n */\nfunction toggleManager() {\n    if (!$managerContainer)\n        return;\n    const isVisible = $managerContainer.css('display') !== 'none';\n    if (isVisible) {\n        hideManager();\n    }\n    else {\n        showManager();\n    }\n}\n// ============================================================================\n// 状态栏 UI（流式楼层界面）\n// ============================================================================\nlet statusBarUnmount = null;\n/**\n * 初始化状态栏（使用流式楼层界面）\n */\nasync function initStatusBar() {\n    const { unmount } = mountStreamingMessages(() => createApp(StatusBar), {\n        host: 'iframe', // 使用 iframe 隔离样式\n        // 只在 AI 消息上显示状态栏\n        filter: (message_id, _message) => {\n            const chat = getChatMessages(message_id);\n            if (chat.length === 0)\n                return false;\n            // 只在 AI 回复上显示（role 为 assistant）\n            return chat[0].role === 'assistant';\n        },\n    });\n    statusBarUnmount = unmount;\n    console.log('[状态栏] 流式界面已初始化');\n}\n// ============================================================================\n// 暴露 API 到主窗口（供调试和外部调用）\n// ============================================================================\nfunction exposeAPI() {\n    pageWindow.__thStatusBarManager = {\n        show: showManager,\n        hide: hideManager,\n        toggle: toggleManager,\n        isVisible: () => $managerContainer?.css('display') !== 'none',\n    };\n}\n// ============================================================================\n// 初始化\n// ============================================================================\nfunction init() {\n    const currentId = createId();\n    // 检查是否已有其他实例在运行\n    const existingOwner = getOwner();\n    if (existingOwner) {\n        console.log('[状态栏] 检测到旧实例，正在清理...');\n        existingOwner.cleanup();\n    }\n    // 注册当前实例\n    const cleanup = () => {\n        console.log('[状态栏] 正在清理...');\n        // 卸载管理器\n        if (managerApp) {\n            managerApp.unmount();\n            managerApp = null;\n        }\n        // 清理管理器样式\n        managerStyleCleanup?.();\n        managerStyleCleanup = null;\n        $managerContainer?.remove();\n        $managerContainer = null;\n        // 卸载状态栏\n        statusBarUnmount?.();\n        statusBarUnmount = null;\n        // 移除按钮\n        replaceScriptButtons([]);\n        // 清除 API\n        delete pageWindow.__thStatusBarManager;\n        clearOwner();\n    };\n    setOwner({ id: currentId, cleanup });\n    // 创建管理器容器\n    $managerContainer = createManagerContainer();\n    // 点击背景关闭管理器\n    $managerContainer.on('click', e => {\n        if (e.target === $managerContainer[0]) {\n            hideManager();\n        }\n    });\n    // 添加管理器按钮\n    replaceScriptButtons([{ name: MANAGER_BUTTON_NAME, visible: true }]);\n    // 注册按钮点击事件\n    eventOn(getButtonEvent(MANAGER_BUTTON_NAME), showManager);\n    // 初始化状态栏\n    initStatusBar();\n    // 暴露 API\n    exposeAPI();\n    console.log('[状态栏] 初始化完成');\n}\n// ============================================================================\n// 入口点\n// ============================================================================\n$(() => {\n    try {\n        init();\n    }\n    catch (error) {\n        console.error('[状态栏] 初始化失败:', error);\n        toastr.error(`状态栏初始化失败: ${error.message}`, '错误');\n    }\n    // 卸载时清理\n    $(window).on('pagehide', () => {\n        const owner = getOwner();\n        owner?.cleanup();\n    });\n});\n"],"names":["content","__esModule","default","module","id","locals","exports","add","___CSS_LOADER_EXPORT___","push","listToStyles","parentId","list","styles","newStyles","i","length","item","part","css","media","sourceMap","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","test","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","type","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","index","replacement","filter","Boolean","join","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","sources","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","cssWithMappingToString","toString","this","map","needLayer","concat","modules","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","base64","data","sourceMapping","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","teleportStyle","append_to","$div","$","attr","getScriptId","append","clone","appendTo","destroy","uuidv4","replace","c","Math","random","Vue","mountStreamingMessages","creator","host","prefix","states","Map","has_stoped","destroyIfInvalid","message_id","min_message_id","Number","first","_","inRange","SillyTavern","chat","destroyAllInvalid","keys","forEach","renderOneMessage","async","stream_message","message","getChatMessages","$message_element","$mes_text","find","addClass","$host","state","during_streaming","$mes_streaming","padding","insertAfter","script_id","frameborder","srcdoc","reactive","host_id","app","provide","on","contentDocument","mount","body","observer","MutationObserver","$edit_textarea","parent","is","removeClass","observe","childList","set","$th_streaming","unmount","children","disconnect","delete","renderAllMessage","destroy_all","Promise","all","_index","node","isNaN","trigger_event","eventEmit","tavern_events","CHARACTER_MESSAGE_RENDERED","stop_list","scopedEventOn","event","listener","eventMakeFirst","errorCatched","stop","eventOn","MESSAGE_EDITED","MESSAGE_DELETED","MORE_MESSAGES_LOADED","setTimeout","STREAM_TOKEN_RECEIVED","_hoisted_1","class","_hoisted_2","_hoisted_3","viewBox","width","height","fill","stroke","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","__name","setup","__props","categories","ref","itemDefinitions","selectedCategoryKey","isSidebarCollapsed","isEditingCategory","isEditingItem","categoryForm","name","icon","order","scope","itemForm","category","entry_type","separator","secondary_separator","description","sortedCategories","computed","values","sort","b","filteredItems","items","currentCategory","generatedFormat","cat","categoryKey","valuePart","p","openNewCategory","assign","saveCategory","trim","openNewItem","label","data_type","saveItem","format","addPart","movePart","direction","newIndex","temp","iconPaths","_ctx","_cache","title","onClick","$event","confirm","to","placeholder","min","number","disabled","splice","rows","activeModule","desc","currentModule","m","database","box","paintbrush","layout","settings","close","save","handleClose","targetDocument","window","CustomEvent","documentElement","dispatchEvent","mod","DefinitionStudio","ctx","readonly","inject","MANAGER_BUTTON_NAME","MANAGER_CONTAINER_ID","OWNER_KEY","pageWindow","getOwner","$managerContainer","managerApp","managerStyleCleanup","showManager","$mountPoint","createApp","ManagerModal","console","log","hideManager","toggleManager","statusBarUnmount","init","currentId","crypto","randomUUID","Date","now","slice","existingOwner","cleanup","record","replaceScriptButtons","__thStatusBarManager","$existing","$container","position","top","left","zIndex","display","backgroundColor","alignItems","justifyContent","addEventListener","createManagerContainer","e","visible","getButtonEvent","StatusBar","_message","role","initStatusBar","show","hide","toggle","isVisible","error","toastr","owner"],"ignoreList":[],"sourceRoot":""}